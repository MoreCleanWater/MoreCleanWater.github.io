(this["webpackJsonpmore-clean-water"]=this["webpackJsonpmore-clean-water"]||[]).push([[0],{16:function(e,t,a){e.exports={container:"Form_container__3RG8m",content:"Form_content__2hENL",admin:"Form_admin__gujMf",subtitle:"Form_subtitle__jb1WJ",confirmation:"Form_confirmation__oIxZm",signInForm:"Form_signInForm__1-3vB",profileForm:"Form_profileForm__1EThG",adminForm:"Form_adminForm__3J-8e",landingForm:"Form_landingForm__823Hn",actions:"Form_actions__2fu-Y",link:"Form_link__20noQ",formInput:"Form_formInput__3Nojn",buttons:"Form_buttons__3aNgw"}},219:function(e,t,a){},220:function(e,t,a){},222:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),i=a.n(c),r=a(14),s=a.n(r),o=a(7),l=a(19),d=a(24),u=a(26),j=a(11),b=a(319),m=a(79),h=a(16),p=a.n(h),O=a(20),x=a.n(O),f=a(101),g=a.n(f),v=a(58),y=a.n(v),w=a(166);var N=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,r=e.helperText,s=e.variant,o=e.color,l=e.options,d=e.className,u=e.onChange;return Object(n.jsx)(w.a,Object(j.a)(Object(j.a)({autoComplete:"on",name:t,id:t,label:a,value:c,error:i,helperText:r,variant:s||"outlined",color:o||"primary",className:d},l),{},{onChange:u}))},k=a(29),C=a(78),S=a(109),_=a(107),P=a(70),T=a(150),E=a.n(T),I=a(259);var F=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,r=e.helperText,s=e.variant,o=e.color,l=e.options,d=e.className,u=e.dataProvider,b=e.onChange;return Object(n.jsxs)(C.a,{variant:s||"outlined",color:o||"primary",className:d,error:i,children:[!u&&Object(n.jsx)(E.a,{className:"loading absolute",style:{right:"-2.5rem",top:".8rem"}}),Object(n.jsx)(S.a,{id:"".concat(t,"-label"),children:a}),Object(n.jsxs)(_.a,Object(j.a)(Object(j.a)({id:t,name:t,label:a,labelId:"".concat(t,"-label"),value:c},l),{},{onChange:b,children:[Object(n.jsx)(P.a,{value:null,children:"\xa0"}),Object(k.a)(u).map((function(e){return Object(n.jsx)(P.a,{value:e.countyId,children:e.county},e.countyId)}))]})),Object(n.jsx)(I.a,{children:r})]})},A=a(168),z=a(261);var W=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,r=e.helperText,s=e.color,o=e.options,l=e.className,d=e.onChange;return Object(n.jsxs)("div",{className:l,children:[Object(n.jsx)(z.a,{control:Object(n.jsx)(A.a,Object(j.a)(Object(j.a)({name:t,id:t,checked:c,color:s||"primary"},o),{},{onChange:d})),label:a,error:i}),Object(n.jsx)(I.a,{children:r})]})},q={value:""},U={errors:{},isValidated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=!0,c=t.filter((function(e){return e.required&&e.step===a})),i=Object(j.a)({},this.errors);return c.forEach((function(t){i[t.name]="",e[t.name]||(i[t.name]="Ops! This field is required",n=!1)})),e.confirmPassword&&""!==e.password&&""!==e.confirmPassword&&(e.password!==e.confirmPassword?(i.password="Ops Passwords don't match",i.confirmPassword="Ops Passwords don't match",n=!1):(i.password="",i.confirmPassword="")),this.errors=Object(j.a)(Object(j.a)({},this.errors),i),[n,this.errors]}},D={},G=a(320);var L=function(e){var t=e.countyData,a=Object(c.useState)({userName:"",postcode:"",countyId:"",firstName:"",lastName:"",password:"",confirmPassword:"",email:q.value,isSubscriber:""}),i=Object(o.a)(a,2),r=i[0],s=i[1],h=Object(c.useState)("idle"),O=Object(o.a)(h,2),f=O[0],v=O[1],w=[{label:"Email",name:"email",required:!0,component:N,options:{autoComplete:"off"},step:0},{label:"Username",name:"userName",required:!0,component:N,step:0},{label:"Password",name:"password",required:!0,component:N,options:{type:"password"},step:0},{label:"Confirm Password",name:"confirmPassword",required:!0,component:N,options:{type:"password"},step:0},{label:"First Name",name:"firstName",required:!0,component:N,step:1},{label:"Last Name",name:"lastName",required:!0,component:N,step:1},{label:"County",name:"countyId",required:!0,component:F,dataProvider:t,step:1},{label:"Post Code",name:"postcode",required:!0,component:N,step:1},{label:"Receive water alerts?",name:"isSubscriber",required:!1,component:W,step:1}],k=Object(c.useState)({}),C=Object(o.a)(k,2),S=C[0],_=C[1],P=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;s(Object(j.a)(Object(j.a)({},r),{},Object(u.a)({},e.target.name,t)))},T=Object(c.useState)(0),E=Object(o.a)(T,2),I=E[0],A=E[1],z=function(){var e=Object(j.a)({},r);delete e.confirmPassword,v("loading"),x.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/add",e).then((function(t){"User is created successfully"===t.data?x.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/login",{userName:e.userName,password:e.password}).then((function(e){"Invalid email or password"!==e&&(D.value=e.data),v("success")})).catch((function(e){console.log(e),v("error")})):v("error")})).catch((function(e){console.log(e),v("error")}))};return"success"===f?Object(n.jsx)(b.a,{container:!0,alignContent:"center",justify:"center",className:"fullHeight",children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(g.a,{color:"primary",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Woo hoo!"}),Object(n.jsxs)("p",{style:{lineHeight:1.5},children:["Welcome! ",Object(n.jsx)("br",{})," You account has been created"]}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,component:l.c,to:"/find-water",style:{marginTop:"1rem"},children:"GO TO APP"})})]})}):D.value?Object(n.jsx)(d.a,{to:"/find-water"}):Object(n.jsxs)(b.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(G.a,{className:"linearProgress ".concat("loading"===f?"":"hidden")}),Object(n.jsx)(b.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===f?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{style:{lineHeight:1.5},children:["Something weird happened. ",Object(n.jsx)("br",{})," Keep calm and try again."]}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{variant:"contained",disableElevation:!0,onClick:function(e){return v("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(b.a,{item:!0,xs:10,md:5,className:p.a.content,children:[Object(n.jsx)("h2",{className:"center",children:"User registration"}),Object(n.jsx)("p",{className:p.a.subtitle}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("ul",{children:[["Account details","Local information"].map((function(e,t){return Object(n.jsx)("li",{className:I===t?" active-flex":"",children:w.filter((function(e){return e.step===t})).map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:r[e.name],error:S[e.name]?"error":"",helperText:S[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:P},e.name)}))},t)})),Object(n.jsx)("li",{className:2===I?" active-flex":"",children:Object(n.jsxs)("ul",{className:p.a.confirmation,children:[Object(n.jsxs)("li",{children:["Username: ",r.userName]}),Object(n.jsxs)("li",{children:["Email: ",r.email]}),Object(n.jsxs)("li",{children:["Password: ",r.password?r.password.split("").map((function(e){return"\u2022"})):""]}),Object(n.jsxs)("li",{children:["First name: ",r.firstName]}),Object(n.jsxs)("li",{children:["Last Name: ",r.lastName]}),Object(n.jsxs)("li",{children:["Receive water alerts? ",r.isSubscriber?"Yes":"No"]}),Object(n.jsxs)("li",{children:["County: ",t&&r.countyId?t.find((function(e){return e.countyId===r.countyId})).county:""]}),Object(n.jsxs)("li",{children:["Post code: ",r.postcode]})]})})]}),Object(n.jsxs)("div",{className:p.a.buttons,children:[0===I?"":Object(n.jsx)(m.a,{variant:"text",color:"primary",disableElevation:!0,onClick:function(e){return A(I>0?I-1:I)},children:"Previous"}),I<2?Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=U.isValidated(r,w,I),a=Object(o.a)(t,2),n=a[0],c=a[1];return _(c),n?A(I<2?I+1:2):n},children:"Next"}):"",I<2?"":Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=U.isValidated(r,w),a=Object(o.a)(t,2),n=a[0],c=a[1];return _(c),n?z():n},disabled:"loading"===f?"disabled":"",children:"Submit"})]})]})]})]})};var R=function(){var e=Object(c.useState)({userName:"",password:""}),t=Object(o.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)("idle"),s=Object(o.a)(r,2),h=s[0],O=s[1],f=[{label:"Username",name:"userName",required:!0,component:N},{label:"Password",name:"password",required:!0,component:N,options:{type:"password"}}],g=Object(c.useState)({}),v=Object(o.a)(g,2),w=v[0],k=v[1],C=function(e){return i(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))},S=function(){O("loading"),x.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/login",a).then((function(e){"Invalid email or password"===e.data?O("error"):(D.value=e.data,console.log(D.value),O("success"))})).catch((function(e){console.log(e),O("error")}))};return"success"===h?Object(n.jsx)(d.a,{push:!0,to:"/find-water"}):Object(n.jsxs)(b.a,{justify:"center",className:p.a.container,children:[Object(n.jsx)(G.a,{className:"linearProgress ".concat("loading"===h?"":"hidden")}),Object(n.jsx)(b.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===h?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{children:["Invalid email or password. ",Object(n.jsx)("br",{})," Please try again."]}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{variant:"contained",disableElevation:!0,onClick:function(e){return O("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(b.a,{item:!0,xs:10,md:5,className:"".concat(p.a.content," ").concat("error"===h?"hidden":""),children:[Object(n.jsx)("h2",{className:"center",children:"Sign in"}),Object(n.jsxs)("form",{className:p.a.signInForm,children:[f.map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:a[e.name],error:w[e.name]?"error":"",helperText:w[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:C})})),Object(n.jsxs)("div",{className:p.a.buttons,children:[Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=U.isValidated(a,f),n=Object(o.a)(t,2),c=n[0],i=n[1];return k(i),c?S():c},disabled:"loading"===h?"disabled":"",children:"Submit"}),Object(n.jsxs)("div",{className:p.a.actions,children:[Object(n.jsx)("p",{children:"Don't have an account yet?"}),Object(n.jsx)(m.a,{variant:"outlined",color:"primary",disableElevation:!0,component:l.c,to:"/signup",children:"Sign Up"}),Object(n.jsx)(l.c,{to:"/find-water",className:"enter",children:Object(n.jsx)("p",{children:"Or proceed without sign up"})})]})]})]})]})]})};a(219);var H=function(e){var t=e.id,a=e.title,c=e.description,i=e.markAsRead;return Object(n.jsxs)("li",{className:"update-item",onClick:function(){return i(t)},children:[Object(n.jsx)("h2",{className:"update__title",children:a}),Object(n.jsx)("p",{className:"update__description",children:c})]})};var M=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(c.useEffect)((function(){fetch("/updates.json").then((function(e){return e.json()})).then((function(e){return i(Array.from(e))}))}),[]);var r=function(e){var t=Object(k.a)(a);t.find((function(t){return t.id===e})).isReaded=!0,i(t)};if(!a)return Object(n.jsx)("div",{});var s=a.filter((function(e){return!e.isReaded}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:"updates-list",children:s.map((function(e){return Object(n.jsx)(H,{id:e.id,title:e.title,description:e.description,markAsRead:r},e.id)}))}),Object(n.jsx)("div",{className:"total",children:s.length>0?"Total updates: ".concat(s.length):Object(n.jsx)(b.a,{className:"fullHeightMobile no-items",container:!0,justify:"center",alignItems:"center",children:"Hooray! No updates!"})})]})};a(220);var B=function(){return Object(n.jsx)(b.a,{container:!0,justify:"center",className:"updates fullHeight",children:Object(n.jsx)(b.a,{item:!0,xs:10,children:Object(n.jsx)(M,{})})})};var J=function(){return Object(n.jsx)("div",{className:"fullHight"})},K=a(322),V=a(263),Y=a(37),Q=a.n(Y),Z=a(102);var X=function(e){var t=e.className,a=e.style;return Object(n.jsxs)("div",{style:a,className:t,children:[Object(n.jsx)("div",{className:Q.a.content,children:Object(n.jsx)(Z.a,Object(j.a)(Object(j.a)({},e),{},{className:"",style:{}}))}),Object(n.jsx)("div",{className:Q.a.buttons,children:e.children})]})};var $=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(c.useEffect)((function(){x.a.all([x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list"),x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/list")]).then(x.a.spread((function(e,t){if(e&&t){var a=t.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{id:String(t.userId),county:t.countyId&&e.data.find((function(e){return t.countyId===e.countyId})).county})}));i(a)}else console.log(e,t)}))).catch((function(e){return console.log(e)}))}),[]),a?Object(n.jsx)(b.a,{container:!0,justify:"center",children:Object(n.jsxs)(b.a,{item:!0,xs:12,md:10,className:Q.a.container,children:[Object(n.jsx)("h2",{className:"center",children:"Users"}),Object(n.jsx)(X,{className:Q.a.dataGrid,rows:a,columns:[{field:"userName",headerName:"Username",width:120,flex:1},{field:"firstName",headerName:"First name",width:200,flex:1.5},{field:"lastName",headerName:"Last name",width:200,flex:1.5},{field:"email",headerName:"Email",width:230,flex:2},{field:"county",headerName:"County",width:230,flex:1.5},{field:"postcode",headerName:"Post code",width:160}],disableColumnSelector:!0,disableSelectionOnClick:!0,showToolbar:!0,autoPageSize:!0})]})}):Object(n.jsx)(K.a,{className:"circularProgress",open:!a,children:Object(n.jsx)(V.a,{color:"inherit"})})},ee=a(323);var te=function(e){var t=e.mode,a=e.inputItems,i=e.data,r=e.status,s=e.variant,l=e.className,d=e.style,b=e.onSubmit,h=e.onCancel,O=Object(c.useState)(i),x=Object(o.a)(O,2),f=x[0],g=x[1];Object(c.useEffect)((function(){g(i)}),[i]);var v=Object(c.useState)({}),y=Object(o.a)(v,2),w=y[0],N=y[1],k=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;g(Object(j.a)(Object(j.a)({},f),{},Object(u.a)({},e.target.name,t)))};return Object(n.jsxs)("form",{className:p.a.adminForm,style:d,children:[Object(n.jsx)("div",{style:{flexGrow:1},children:a.map((function(e,t){var a=e.component;return Object(n.jsx)(a,{id:e.name,name:e.name,label:e.label,value:f[e.name]?f[e.name]:"",error:w[e.name]?"error":"",helperText:w[e.name],className:"".concat(l," ").concat(p.a.formInput),style:{style:d},variant:s||"outlined",options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:k},e.name)}))}),Object(n.jsxs)("div",{className:"".concat(p.a.buttons," ").concat(p.a.admin),children:[Object(n.jsxs)(m.a,{variant:"contained",color:"primary",size:"small",onClick:function(e){var t=U.isValidated(f,a),n=Object(o.a)(t,2),c=n[0],i=n[1];return N(i),c?b(f):c},disableElevation:!0,disabled:"loading"===r?"disabled":"",children:["create"===t&&"Create","update"===t&&"Update"]}),Object(n.jsx)(m.a,{variant:"outlined",size:"small",style:{marginLeft:16},onClick:function(e){h()},disableElevation:!0,children:"Cancel"})]})]})},ae=a(66),ne=a.n(ae),ce=a(152),ie=a.n(ce),re=a(334);var se=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],i=t[1],r=[{field:"county",headerName:"County",width:210},{field:"postcode",headerName:"Post Code",width:130},{field:"size",headerName:"Size",width:90},{field:"capacity",headerName:"Capacity",width:110},{field:"isWorking",headerName:"Is working?",width:130,renderCell:function(e){return Object(n.jsx)("div",{style:{height:"100%",width:"100%",textAlign:"center"},children:Object(n.jsx)(W,{value:e.row.isWorking,disabled:"disabled"})})}},{field:"actions",headerName:"Actions",sortable:!1,width:110,renderCell:function(e){return Object(n.jsxs)("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:[Object(n.jsx)(ie.a,{id:e.row.id,onClick:z,style:{cursor:"pointer",color:"#78787c",marginLeft:".2rem"}}),Object(n.jsx)(ne.a,{id:e.row.id,onClick:A,style:{cursor:"pointer",color:"#78787c",marginLeft:"1rem"}})]})}}],s=[{label:"County",name:"countyId",required:!0,component:F,dataProvider:a},{label:"Post Code",name:"postcode",required:!0,component:N},{label:"Size",name:"size",required:!0,component:N},{label:"Capacity",name:"capacity",required:!0,component:N},{label:"Is working?",name:"isWorking",component:W}],l=Object(c.useState)(),d=Object(o.a)(l,2),u=d[0],h=d[1],O=function(){var e={};return s.forEach((function(t){e[t.name]=""})),Object(j.a)({id:""},e)},f=Object(c.useState)("retrieve"),g=Object(o.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)("idle"),k=Object(o.a)(w,2),C=k[0],S=k[1],_=Object(c.useState)(O),P=Object(o.a)(_,2),T=P[0],E=P[1];Object(c.useEffect)((function(){I()}),[]);var I=function(){S("loading"),x.a.all([x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list"),x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/list")]).then(x.a.spread((function(e,t){if(e&&t){var a=t.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{id:String(t.stationId),county:t.countyId&&e.data.find((function(e){return t.countyId===e.countyId})).county})}));e.data.sort((function(e,t){return e.county>t.county?1:-1})),i(e.data),h(a),y("retrieve"),S("success"),E(O)}else console.log(e,t)}))).catch((function(e){return console.log(e)}))},A=function(e){var t=u.find((function(t){return t.id===e.currentTarget.id})).stationId;x.a.delete("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/delete/"+t).then((function(e){console.log(e.data),I()})).catch((function(e){console.log(e),S("error")}))},z=function(e){E(u.filter((function(t){return t.id===e.currentTarget.id}))[0]),y("update")},q=function(e){S("loading"),delete e.additionalInfo,delete e.id,console.log(e),x.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/add",e).then((function(e){console.log(e.data),I()})).catch((function(e){console.log(e),S("error")}))},U=function(e){S("loading"),delete e.additionalInfo,delete e.id,delete e.county,delete e.installDate,delete e.installationDate,delete e.postcodeId,console.log(e),x.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/edit/"+e.stationId,e).then((function(e){"Station is updated successfully"===e.data?I():S("error")})).catch((function(e){console.log(e),S("error")}))},D=Object(c.useState)(!1),L=Object(o.a)(D,2),R=L[0],H=L[1],M=function(e,t){"clickaway"!==t&&S("idle")};return u?Object(n.jsxs)("div",{children:[Object(n.jsx)(G.a,{className:"linearProgress ".concat("loading"===C?"":"hidden")}),Object(n.jsxs)(b.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(ee.a,{open:"success"===C,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:M,children:Object(n.jsx)(re.a,{onClose:M,severity:"success",variant:"filled",children:"Data successfully loaded"})}),Object(n.jsxs)(b.a,{item:!0,xs:10,md:7,className:p.a.content,children:[Object(n.jsx)("h2",{className:p.a.admin,children:"Water Stations"}),Object(n.jsxs)(X,{className:Q.a.dataGrid,style:{display:"retrieve"===v?"flex":"none"},rows:u,columns:r,onSelectionChange:function(e){var t;0===e.rowIds.length?H(!1):H(!0),t=e.rowIds,console.log(t)},disableSelectionOnClick:!0,disableColumnSelector:!0,showToolbar:!0,autoPageSize:!0,children:[Object(n.jsx)(m.a,{variant:"contained",size:"small",onClick:function(e){y("create")},color:"primary",disableElevation:!0,disabled:"loading"===C?"disabled":"",children:"Add"}),Object(n.jsx)(m.a,{variant:"text",size:"small",style:{marginLeft:16},onClick:function(e){},className:R?"":"hidden",disableElevation:!0,disabled:"loading"===C?"disabled":"",children:"Delete"})]}),Object(n.jsx)(te,{mode:v,inputItems:s,data:T,status:C,style:{display:"retrieve"!==v?"flex":"none"},onSubmit:function(e){"create"===v&&q(e),"update"===v&&U(e)},onCancel:function(){y("retrieve"),E(O)}})]})]})]}):Object(n.jsx)(K.a,{className:"circularProgress",open:!u,children:Object(n.jsx)(V.a,{color:"inherit"})})},oe=a(335),le=a(71),de=a(258),ue=a(325),je=a(260),be=a(324),me=a(153),he=a.n(me);var pe=function(){var e=i.a.useState(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}};return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(le.a,{color:"inherit","aria-label":"open drawer",onClick:r(!0),className:"absolute",children:Object(n.jsx)(he.a,{})}),Object(n.jsx)(oe.a,{anchor:"left",open:a,onClose:r(!1),onOpen:r(!0),children:Object(n.jsx)("div",{className:Q.a.menuList,role:"presentation",onClick:r(!1),onKeyDown:r(!1),children:Object(n.jsxs)(de.a,{children:[Object(n.jsx)(je.a,{button:!0,component:l.c,to:"/admin/users",children:Object(n.jsx)(be.a,{primary:"Users"})}),Object(n.jsx)(je.a,{button:!0,component:l.c,to:"/admin/water-stations",children:Object(n.jsx)(be.a,{primary:"Water Stations"})}),Object(n.jsx)(je.a,{children:Object(n.jsx)(be.a,{primary:"Awareness"})}),Object(n.jsx)(je.a,{button:!0,component:l.c,to:"/admin/awareness-category",children:Object(n.jsx)(be.a,{primary:"Categories",className:Q.a.menuItem__nested})}),Object(n.jsx)(je.a,{button:!0,component:l.c,to:"/admin/awareness-content",children:Object(n.jsx)(be.a,{primary:"Content",className:Q.a.menuItem__nested})}),Object(n.jsx)(je.a,{button:!0,component:l.c,to:"/admin/communication",children:Object(n.jsx)(be.a,{primary:"Communication"})}),Object(n.jsx)(ue.a,{})]})})})]},"left")};var Oe=function(e){var t=e.countyData,a=Object(c.useState)(),i=Object(o.a)(a,2),r=i[0],s=i[1],l=Object(c.useState)("idle"),h=Object(o.a)(l,2),O=h[0],f=h[1],g=[{label:"Email",name:"email",required:!0,component:N},{label:"First Name",name:"firstName",required:!0,component:N},{label:"Last Name",name:"lastName",required:!0,component:N},{label:"County",name:"countyId",required:!0,type:"combobox",component:F,dataProvider:t},{label:"Post Code",name:"postcode",required:!0,component:N}];Object(c.useEffect)((function(){f("loading"),x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/"+D.value).then((function(e){var t={};g.map((function(e){return e.name})).forEach((function(a){return t[a]=e.data[0][a]})),s(t),f("idle")})).catch((function(e){f("error"),console.log(e)}))}),[]);var v=Object(c.useState)({}),w=Object(o.a)(v,2),k=w[0],C=w[1],S=function(e){return s(Object(j.a)(Object(j.a)({},r),{},Object(u.a)({},e.target.name,e.target.value)))},_=function(e){f("loading"),x.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/edit/"+D.value,r).then((function(e){console.log(e),"User is updated successfully"===e.data?f("success"):f("error")})).catch((function(e){console.log(e),f("error")}))},P=function(e,t){"clickaway"!==t&&f("idle")};return D.value?r?Object(n.jsxs)(b.a,{justify:"center",className:p.a.container,children:[Object(n.jsx)(G.a,{className:"linearProgress ".concat("loading"===O?"":"hidden")}),Object(n.jsx)(b.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===O?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{children:["Something weird happened. ",Object(n.jsx)("br",{})," Please try again later."]}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{variant:"contained",disableElevation:!0,onClick:function(e){return f("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(b.a,{item:!0,xs:10,md:5,className:p.a.content,children:[Object(n.jsx)(ee.a,{open:"success"===O,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:P,children:Object(n.jsx)(re.a,{onClose:P,severity:"success",variant:"filled",children:"Profile updated successfully!"})}),Object(n.jsx)("h2",{className:"center",children:"Profile"}),Object(n.jsxs)("form",{className:p.a.profileForm,children:[g.map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:r[e.name],error:k[e.name]?"error":"",helperText:k[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:S})})),Object(n.jsx)("div",{className:p.a.buttons,children:Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=U.isValidated(r,g),a=Object(o.a)(t,2),n=a[0],c=a[1];return C(c),n?_():n},disabled:"loading"===O?"disabled":"",children:"Submit"})})]})]})]}):Object(n.jsx)(K.a,{className:"circularProgress",open:!r,children:Object(n.jsx)(V.a,{color:"inherit"})}):Object(n.jsx)(d.a,{to:"/signin"})},xe=a(43),fe=a.n(xe),ge=a(69),ve=(a(222),a(84));function ye(e){var t=e.samplePoint,a=e.center,i=e.zoom,r=e.google,s=Object(c.useState)(!1),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(c.useState)({}),b=Object(o.a)(j,2),m=b[0],h=b[1],p=Object(c.useState)({}),O=Object(o.a)(p,2),x=O[0],f=O[1],g=null;return null!=t&&(g=t.map((function(e){return"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/F"===e.samplingPointType.group?Object(n.jsx)(ve.Marker,{name:e.label,position:{lat:e.lat,lng:e.long},onClick:function(e,t){f(e),h(t),u(!d)}},e.easting):null}))),Object(n.jsx)("div",{className:"map",children:Object(n.jsxs)(ve.Map,{disableDefaultUI:!0,google:r,initialCenter:a,zoom:i,onClick:function(){u(!1)},children:[g,m?Object(n.jsx)(ve.InfoWindow,{visible:d,marker:m,children:Object(n.jsx)("div",{children:Object(n.jsx)("h6",{children:x.name})})}):null]})})}ye.defaultProps={center:{lat:51.507351,lng:-.127758},zoom:7};var we=Object(ve.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SAMPLING_POINTS:"https://environment.data.gov.uk/water-quality/id/sampling-point",REACT_APP_SAMPLING_POINT_GROUPS_FW:"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/F",REACT_APP_SAMPLING_POINT_GROUPS_GW:"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/B"}).REACT_APP_GOOGLE_APIKEY})(ye);var Ne=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),l=s[0],d=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(ge.a)(fe.a.mark((function e(){var t,a,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch("https://environment.data.gov.uk/water-quality/id/sampling-point");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.items,i(n),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:"fullHeight",children:l?Object(n.jsx)(K.a,{className:"circularProgress",open:l,children:Object(n.jsx)(V.a,{color:"inherit"})}):Object(n.jsx)(we,{samplePoint:a})})};a(238);var ke=function(e){var t=e.children;return Object(n.jsx)("nav",{children:Object(n.jsx)("div",{className:"bottom-bar",children:Object(n.jsx)("ul",{className:"bottom-menu",children:t})})})},Ce=a(121),Se=a.n(Ce),_e=a(104),Pe=a.n(_e),Te=(a(239),a(165));var Ee=function(){var e=Object(c.useState)("idle"),t=Object(o.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)("/signin"),s=Object(o.a)(r,2),u=s[0],j=s[1];Object(c.useEffect)((function(){D.value?(i("login"),j("/profile")):j("/signin")}),[]);var m=Object(c.useState)(!1),h=Object(o.a)(m,2),p=h[0],O=h[1],x=Object(c.useState)(null),f=Object(o.a)(x,2),g=f[0],v=f[1],y=function(e,t){"clickaway"!==t&&i("idle")},w=function(){v(null)},N=function(e){D.value="",i("logout"),j("/signin")};return"logout"===a?Object(n.jsx)(d.a,{to:"/signin"}):Object(n.jsxs)("div",{children:[Object(n.jsx)(ee.a,{open:"login"===a,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:y,children:Object(n.jsx)(re.a,{onClose:y,severity:"success",variant:"filled",children:"User logged in successfully"})}),Object(n.jsxs)("div",{className:"profileMenuMobile",children:[Object(n.jsx)(le.a,{"aria-controls":"profile-menu","aria-haspopup":"true",component:"span",onClick:function(e){return v(e.currentTarget)},children:Object(n.jsx)(Se.a,{className:"profileIcon"})}),Object(n.jsxs)(Te.a,{id:"profile-menu",anchorEl:g,keepMounted:!0,PaperProps:{style:{width:"12ch"}},open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,component:l.b,to:u,children:D.value?"Profile":"Sign In"}),D.value?Object(n.jsx)(P.a,{onClick:N,children:"Logout"}):""]})]}),Object(n.jsx)("div",{className:"top-menu",children:Object(n.jsxs)(b.a,{container:!0,justify:"space-around",children:[Object(n.jsx)(b.a,{item:!0,md:3,children:Object(n.jsx)("h1",{className:"top-menu__title",children:"More Clean Water"})}),Object(n.jsx)(b.a,{item:!0,md:8,children:Object(n.jsxs)("ul",{className:"top-menu__menu",children:[Object(n.jsx)("li",{className:"top-menu__item find-water",children:Object(n.jsx)(l.c,{to:"/find-water",children:"Find Water"})}),Object(n.jsx)("li",{className:"top-menu__item water-awareness",children:Object(n.jsx)(l.c,{to:"/awareness",children:"Awareness"})})]})}),Object(n.jsx)(b.a,{item:!0,md:1,children:Object(n.jsxs)("ul",{className:"top-menu__icons",children:[Object(n.jsxs)("li",{className:"top-menu__updates",children:[Object(n.jsx)("div",{className:"material-icons",onClick:function(e){return O(!p)},children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)("div",{className:"updates-container overlay ".concat(p?"active":""),children:Object(n.jsx)(M,{})})]}),Object(n.jsxs)("li",{className:"top-menu__user",children:[Object(n.jsx)(le.a,{"aria-controls":"profile-menu","aria-haspopup":"true",component:"span",style:{padding:0},onClick:function(e){return v(e.currentTarget)},children:Object(n.jsx)(Se.a,{className:"profileIcon"})}),Object(n.jsxs)(Te.a,{id:"profile-menu",anchorEl:g,keepMounted:!0,PaperProps:{style:{width:"12ch"}},open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,component:l.b,to:u,children:D.value?"Profile":"Sign In"}),D.value?Object(n.jsx)(P.a,{onClick:N,children:"Logout"}):""]})]})]})})]})})]})};a(240);var Ie=function(e){var t=e.icon,a=e.title,c=e.to;return Object(n.jsx)(l.c,{to:c,children:Object(n.jsxs)("li",{className:"bottom-menu-item",children:[Object(n.jsx)("div",{className:"bottom-menu-item__icon material-icons",children:t}),Object(n.jsx)("div",{className:"bottom-menu-item__title",children:a})]})})},Fe=a(105),Ae=a.n(Fe),ze=a(154),We=a.n(ze);var qe=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Ee,{}),Object(n.jsxs)(ke,{children:[Object(n.jsx)(Ie,{icon:Object(n.jsx)(Ae.a,{}),title:"Awareness",to:"/awareness"}),Object(n.jsx)(Ie,{icon:Object(n.jsx)(We.a,{}),title:"Find Water",to:"/find-water"}),Object(n.jsx)(Ie,{icon:Object(n.jsx)(Pe.a,{}),title:"Updates",to:"/updates"})]})]})};a(241);var Ue=function(){var e=[{label:"Email",name:"email",required:!0,component:w.a}],t=Object(c.useState)({email:""}),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(null),h=Object(o.a)(s,2),O=h[0],x=h[1],f=Object(c.useState)({}),g=Object(o.a)(f,2),v=g[0],y=g[1],N=function(){var t=!0,a=e.filter((function(e){return e.required})),n=Object(j.a)({},v);return a.forEach((function(e){n[e.name]="",i[e.name]||(n[e.name]="Ops! This field is required",t=!1)})),y(Object(j.a)(Object(j.a)({},v),n)),t};return O?Object(n.jsx)(d.a,{push:!0,to:O}):Object(n.jsxs)("div",{className:"landing-page",children:[Object(n.jsx)("div",{className:"ocean-wrapper",children:Object(n.jsxs)("div",{className:"ocean",children:[Object(n.jsx)("div",{className:"wave"}),Object(n.jsx)("div",{className:"wave"})]})}),Object(n.jsx)("div",{className:"content-wrapper",children:Object(n.jsxs)(b.a,{container:!0,alignContent:"center",className:"content",justify:"center",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("h1",{children:"More Clean Water"}),Object(n.jsx)("h2",{children:"Helping you to access clean water"}),Object(n.jsx)("h3",{children:"Sign up now and receive water shortage alerts, water cleaning advises and more."})]}),Object(n.jsxs)("form",{className:p.a.landingForm,children:[Object(n.jsx)(w.a,{autoComplete:"on",id:"email",name:"email",label:"Email",variant:"outlined",value:i.email,error:v.email?"error":"",helperText:v.email,className:p.a.formInput,onChange:function(e){return r(Object(j.a)(Object(j.a)({},i),{},Object(u.a)({},e.target.name,e.target.value)))}}),Object(n.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){N()&&(q.value=i.email,x("/signup"))},children:"Sign Up"}),Object(n.jsxs)("div",{className:p.a.actions,children:[Object(n.jsx)("p",{children:"Are you already registered?"}),Object(n.jsx)(m.a,{variant:"text",color:"primary",disableElevation:!0,component:l.c,to:"/signin",children:"Sign in"}),Object(n.jsx)(l.c,{to:"/find-water",className:p.a.link,children:"Or proceed without sign up"})]})]})]})})]})},De=a(326),Ge=a(321),Le=a(52),Re=a(91),He=Object(Re.a)({typographyStyles:{flex:1,fontFamily:"Raleway",color:"#288FEE;"},root:{backgroundColor:"#F8FAFC",justify:"center"}});var Me=function(){var e=He();return Object(n.jsx)(De.a,{className:e.root,position:"static",children:Object(n.jsx)(Ge.a,{children:Object(n.jsx)(Le.a,{variant:"h6",className:e.typographyStyles,children:"Facts and statistics about water, toilets and hygiene"})})})},Be=a(327),Je=a(328),Ke=a(330),Ve=a(331),Ye=a(332),Qe=a(329),Ze=a(338),Xe=a(333),$e=a(3),et=a(156),tt=a.n(et),at=a(155),nt=a.n(at),ct=Object(Re.a)((function(e){return{S:{backgroundColor:"red",justify:"center"},P:{backgroundColor:"orange",justify:"center"},G:{backgroundColor:"green",justify:"center"},actionArea:{padding:"15px 15px 0px 15px",transition:"0.2s","&:hover":{transform:"scale(1.1)"}},card:{maxWidth:345,borderRadius:16,boxShadow:"none",backgroundColor:"#F9FCFF",position:"relative"},header:{padding:"8px"},media:function(){return{width:"100%",height:"auto",paddingBottom:"75%"}},video:{height:"200px",width:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));var it=function(e){var t=e.title,a=e.subtitle,r=e.description,s=e.content,l=e.avatarType,d=e.imageUrl,j=e.videoUrl,b=ct(),m=Object(c.useState)(!1),h=Object(o.a)(m,2),p=h[0],O=h[1],x=i.a.useState(null),f=Object(o.a)(x,2),g=f[0],v=f[1],y="P"===l?b.P:"G"===l?b.G:b.S,w=function(){v(null)};return Object(n.jsxs)(Be.a,{variant:"outlined",className:b.card,children:[Object(n.jsx)(Je.a,{avatar:Object(n.jsx)(Ze.a,{className:y,children:l}),action:Object(n.jsx)(le.a,{onClick:function(e){v(e.currentTarget)},children:Object(n.jsx)(nt.a,{})}),title:t,subheader:a}),Object(n.jsxs)(Te.a,{keepMounted:!0,id:"settings-menu",anchorEl:g,open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,children:Object(n.jsx)(Le.a,{variant:"caption",color:"primary",children:"Edit"})}),Object(n.jsx)(P.a,{onClick:w,children:Object(n.jsx)(Le.a,{variant:"caption",color:"primary",children:"Delete"})})]}),Object(n.jsxs)(Qe.a,{className:b.actionArea,children:[d?Object(n.jsx)(Ke.a,{className:b.media,image:d,title:t}):null,j?Object(n.jsx)(Ke.a,{className:b.video,component:"iframe",title:t,src:j}):null,r?Object(n.jsx)(Ve.a,{children:Object(n.jsx)(Le.a,{variant:"body2",color:"textSecondary",component:"p",children:r})}):null]}),Object(n.jsx)(Ye.a,{disableSpacing:!0,children:s?Object(n.jsx)(le.a,{className:Object($e.a)(b.expand,Object(u.a)({},b.expandOpen,p)),onClick:function(){O(!p)},"aria-expanded":p,"aria-label":"show more",children:Object(n.jsx)(tt.a,{})}):null}),s?Object(n.jsx)(Xe.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(Ve.a,{children:Object(n.jsx)(Le.a,{variant:"body2",component:"p",children:s})})}):null]})},rt=[{key:1,title:"Read Beneath the Surface: The State of the World's Water 2019",subtitle:"January 09, 2021",description:"The world\u2019s water crisis is getting worse, and globally we use six times as much water today as we did 100 years ago, driven by population growth and changes in diets and consumer habits",content:"Without clean water, people are denied access to opportunities that should be open to everyone, everywhere. Whole communities are held back while others thrive, simply because they don\u2019t have access to clean water.This is a global water, sanitation and hygiene crisis. In 2015, world leaders committed to achieve the Sustainable Development Goals by 2030. Goal 6 focuses on water and sanitation \u2013 but some countries are not years, but centuries behind reaching this target.",avatarType:"S",imageUrl:"http://d3i3l3kraiqpym.cloudfront.net/wp-content/uploads/2016/02/13105152/water-scarcity.jpg"},{key:2,title:"Why don't people just move closer to water ",subtitle:"I collect water from the river, it's far away ",description:"We're calling on artists to produce eye-catching artwork that will convince world leaders to double investment in clean water and hygiene.",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.",avatarType:"G",imageUrl:"",videoUrl:"https://www.youtube.com/embed/HxX-YDA3QWc"},{key:3,title:"Help us inspire change through art",subtitle:"Discover the art through change",description:"Open sources of water usually aren\u2019t safe. They\u2019re often shared with animals, and contaminated with waterborne diseases like cholera.",content:"Hygiene can be hard to define as it covers so many behaviours, from personal hygiene like handwashing, food hygiene and menstrual hygiene, to the clean use of toilets and the safe use of water. Some groups of people are also more affected by poor hygiene \u2013 especially people with disabilities, young girls, women and babies.Whether it's after going to the toilet, before eating or when you're preparing a meal, washing your hands is one of the easiest ways to prevent the spread of disease.",avatarType:"P",imageUrl:"https://images.twinkl.co.uk/tw1n/image/private/t_630/image_repo/c8/41/T-M-096-When-to-Wash-Your-Hands-Display-Sign.jpg"},{key:4,title:"March for Water",subtitle:"Join thousands and pledge to walk further than usual in solidarity with those who have no choice but to walk to collect water",description:"If 2020 has shown us anything, it's that we're all stronger than we knew, and life is there to be seized. So, don't let doubt or dither hold you back from trying something new or taking on a challenge \u2013 you can do it. Get fit, have fun and change lives along the way. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"G",imageUrl:"http://www.unwater.org/app/uploads/2017/05/22-Mar-2017-Global-engagement-JPG.jpg"},{key:5,title:"Water and education",subtitle:"Why clean water means Ze is back in school",description:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.",content:"",avatarType:"P",imageUrl:"https://image.slidesharecdn.com/freshwaterscarcity-140504191811-phpapp01/95/fresh-water-scarcity-3-638.jpg?cb=1399231136"},{key:6,title:"Water and health",subtitle:"How dirty water affects people's health",description:"Drinking dirty water exposes people to traces of faeces and harmful bacteria. It puts people at risk of deadly diseases like cholera, dengue and diarrhoea. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"S",imageUrl:"https://www.public-health.uiowa.edu/wp-content/uploads/2015/07/water_india.jpg"},{key:7,title:"Water and earning a living",subtitle:"Join thousands and pledge to walk further than usual in solidarity with those who have no choice but to walk to collect water",description:"If 2020 has shown us anything, it's that we're all stronger than we knew, and life is there to be seized. So, don't let doubt or dither hold you back from trying something new or taking on a challenge \u2013 you can do it. Get fit, have fun and change lives along the way. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"G",imageUrl:"https://www.concernusa.org/wp-content/uploads/2017/08/concern-niger-water-and-women-header-1280x520.jpg"}];var st=function(){return Object(n.jsx)(b.a,{container:!0,spacing:2,children:rt.map((function(e){return function(e){return Object(n.jsx)(b.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(it,Object(j.a)({},e))},e.key)}(e)}))})};var ot=function(){return Object(n.jsxs)(b.a,{container:!0,style:{paddingTop:"76px"},direction:"column",children:[Object(n.jsx)(b.a,{item:!0,xs:12,children:Object(n.jsx)(Me,{})}),Object(n.jsx)("div",{style:{paddingTop:"10px"}}),Object(n.jsxs)(b.a,{item:!0,container:!0,children:[Object(n.jsx)(b.a,{item:!0,xs:!1,sm:1}),Object(n.jsxs)(b.a,{item:!0,xs:12,sm:10,children:[Object(n.jsx)(st,{}),Object(n.jsx)(b.a,{item:!0,xs:!1,sm:1})]})]})]})};function lt(){return dt.apply(this,arguments)}function dt(){return(dt=Object(ge.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3333/category");case 2:if(!((t=e.sent).status>=200&&t.status<=299)){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=console.log(t.status,t.statusText);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){return(ut=Object(ge.a)(fe.a.mark((function e(t,a){var n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3333/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:t,description:a})});case 2:if(!((n=e.sent).status>=200&&n.status<=299)){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=console.log(n.status,n.statusText);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(ge.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3333/category/"+t,{method:"DELETE"});case 2:if(!((a=e.sent).status>=200&&a.status<=299)){e.next=9;break}return e.next=6,a.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=console.log(a.status,a.statusText);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(){return(bt=Object(ge.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3333/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(t))});case 2:if(!((a=e.sent).status>=200&&a.status<=299)){e.next=9;break}return e.next=6,a.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=console.log(a.status,a.statusText);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=Object(Re.a)((function(){return{text:{width:"200px",paddingRight:"30px"},button:{backgroundColor:"white",width:"100px",height:"50px","&:hover":{backgroundColor:"#A2EA2E"}}}}));function ht(){var e=mt(),t=Object(c.useState)(""),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(""),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(c.useState)(""),h=Object(o.a)(j,2),p=h[0],O=h[1],x=Object(c.useState)(!1),f=Object(o.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)([]),N=Object(o.a)(y,2),k=N[0],C=N[1],S=Object(c.useState)([]),_=Object(o.a)(S,2),P=_[0],T=_[1],E=[],I=function(){(function(e){return jt.apply(this,arguments)})(P[0].id).then((function(){O("Category deleted successfully"),v(!0)}))},F=function(){u(""),r("")},A=function(e){"clickaway"!==e&&v(!1)},z=[{field:"id",hide:!0},{field:"category",headerClassName:"super-app-theme--header",headerName:Object(n.jsx)("strong",{children:"Category"}),flex:.5},{field:"description",headerName:Object(n.jsx)("strong",{children:"Description"}),flex:1},{field:"actions",headerName:Object(n.jsx)("strong",{children:"Actions"}),flex:.5,renderCell:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(ne.a,{style:{cursor:"pointer",color:"red"},onClick:I})})}}];return Object(c.useEffect)((function(){lt().then((function(e){C(e)}))}),[g]),"undefined"!==typeof k&&k.length>0&&(E=k.map((function(e){return E[e]=e}))),Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{container:!0,style:{height:"100vh",width:"100vw"},alignContent:"center",justify:"space-around",spacing:5,children:[Object(n.jsxs)(b.a,{item:!0,xs:10,sm:8,children:[Object(n.jsx)(w.a,{required:!0,id:"standard-basic-category",label:"Category name",value:d,className:e.text,onChange:function(e){u(e.target.value)}}),Object(n.jsx)(w.a,{id:"standard-basic-desc",label:"Description",value:i,className:e.text,onChange:function(e){r(e.target.value)}}),Object(n.jsx)(m.a,{variant:"contained",disabled:""===d,size:"large",className:e.button,onClick:function(){(function(e,t){return ut.apply(this,arguments)})(d,i).then((function(){O("Category created successfully"),v(!0),F()}))},children:"SAVE"}),Object(n.jsx)(ee.a,{open:g,autoHideDuration:4e3,onClose:A,children:Object(n.jsx)(re.a,{onClose:A,severity:"success",children:p})})]}),Object(n.jsx)(b.a,{item:!0,xs:10,sm:8,style:{height:"60%"},children:Object(n.jsx)(Z.a,{rows:E,columns:z,autoPageSize:!0,onRowSelected:function(e){console.log(e.data.id),T(E.filter((function(t){return t.id===e.data.id})))}})})]})})}var pt=a(253),Ot=a(337),xt=a(162),ft=Object(Re.a)((function(){return{text:{width:"300px",marginTop:"10px"},button:{backgroundColor:"white",width:"100px",height:"50px",marginTop:"10px","&:hover":{backgroundColor:"#A2EA2E"}}}}));function gt(){var e=ft(),t=Object(c.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)([]),l=Object(o.a)(s,2),d=l[0],u=l[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),O=p[0],x=p[1],f=Object(c.useState)(null),g=Object(o.a)(f,2),v=g[0],y=(g[1],Object(c.useState)(!1)),N=Object(o.a)(y,2);N[0],N[1];Object(c.useEffect)((function(){lt().then((function(e){r(e)}))}),[]);return Object(n.jsx)(b.a,{container:!0,justify:"center",children:Object(n.jsxs)(b.a,{item:!0,xs:10,md:8,className:Q.a.container,children:[Object(n.jsx)("h2",{className:"center",children:"Content"}),Object(n.jsx)(Ot.a,{id:"category-combo-box",options:i,getOptionLabel:function(e){return e.category},className:e.text,renderInput:function(e){return Object(n.jsx)(w.a,Object(j.a)(Object(j.a)({required:!0},e),{},{label:"Category"}))}}),Object(n.jsx)(w.a,{required:!0,className:e.text,id:"standard-basic-title",label:"Title",value:""}),Object(n.jsx)(w.a,{className:e.text,id:"standard-basic-subtitle",label:"Subtitle",value:""}),Object(n.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){x(!0)},className:e.button,children:"Upload"}),Object(n.jsx)(xt.a,{open:O,onSave:function(e){u(e),console.log(d),x(!1)},acceptedFiles:["image/jpeg","image/png","image/bmp","image/gif"],showPreviews:!0,filesLimit:1,maxFileSize:5e6,onClose:function(){x(!1)}}),Object(n.jsx)(pt.a,{style:{width:"600px",marginTop:"40px"},"aria-label":"description",rowsMin:5,placeholder:"Description"}),Object(n.jsx)(pt.a,{style:{width:"600px",marginTop:"40px"},"aria-label":"content",rowsMin:5,placeholder:"Detailed content"}),Object(n.jsx)("div",{style:{textAlign:"center"},children:Object(n.jsx)(m.a,{variant:"contained",size:"large",className:e.button,onClick:function(){var e=new FormData;e.append("File",v),e.append("File",v),e.append("File",v),e.append("File",v),e.append("File",v),function(e){bt.apply(this,arguments)}(e)},disableElevation:!0,children:"SAVE"})})]})})}a(250);var vt=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(c.useEffect)((function(){x.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list").then((function(e){e.data&&e.data.sort((function(e,t){return e.county>t.county?1:-1})),i(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(d.d,{children:[Object(n.jsxs)(d.b,{exact:!0,path:"/awareness",children:[Object(n.jsx)(qe,{}),Object(n.jsx)(ot,{})]}),Object(n.jsx)(d.b,{exact:!0,path:"/signup",children:Object(n.jsx)(L,{countyData:a})}),Object(n.jsx)(d.b,{exact:!0,path:"/signin",children:Object(n.jsx)(R,{})}),Object(n.jsxs)(d.b,{exact:!0,path:"/profile",children:[Object(n.jsx)(qe,{}),Object(n.jsx)(Oe,{countyData:a})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/updates",children:[Object(n.jsx)(qe,{}),Object(n.jsx)(B,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/find-water",children:[Object(n.jsx)(qe,{}),Object(n.jsx)(Ne,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/awareness-category",children:[Object(n.jsx)(pe,{}),Object(n.jsx)(ht,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/awareness-content",children:[Object(n.jsx)(pe,{}),Object(n.jsx)(gt,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/users",children:[Object(n.jsx)(pe,{}),Object(n.jsx)($,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/water-stations",children:[Object(n.jsx)(pe,{}),Object(n.jsx)(se,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin",children:[Object(n.jsx)(pe,{}),Object(n.jsx)(J,{})]}),Object(n.jsx)(d.b,{exact:!0,path:"/",children:Object(n.jsx)(Ue,{})})]})})})},yt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,340)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(vt,{})}),document.getElementById("root")),yt()},37:function(e,t,a){e.exports={container:"Admin_container__2QiRP",dataGrid:"Admin_dataGrid__3WMfz",editForm:"Admin_editForm__2_Wwe",content:"Admin_content__2Dhut",menuList:"Admin_menuList__382Ut",menuItem__nested:"Admin_menuItem__nested__2KzoE",idLabel:"Admin_idLabel__1qqJm"}}},[[251,1,2]]]);
//# sourceMappingURL=main.310aa7c7.chunk.js.map