(this["webpackJsonpmore-clean-water"]=this["webpackJsonpmore-clean-water"]||[]).push([[0],{10:function(e,t,a){e.exports={container:"Form_container__2WtlN",content:"Form_content__1Rv4U",title:"Form_title__3G1am",admin:"Form_admin__21k3F",profile:"Form_profile__3qCoo",subtitle:"Form_subtitle__3rHUl",confirmation:"Form_confirmation__2Lcs9",signInForm:"Form_signInForm__1PAMX",profileForm:"Form_profileForm__3_nWQ",adminForm:"Form_adminForm__2mOLX",adminContent:"Form_adminContent__2nO7M",formInput:"Form_formInput__2ZKPV",landingForm:"Form_landingForm__1euFz",actions:"Form_actions__8LmcS",link:"Form_link__vav7t",col2:"Form_col2__3013V",col3:"Form_col3__2XpXq",last:"Form_last__1nPx3",buttons:"Form_buttons__2kaBU"}},22:function(e,t,a){e.exports={container:"Admin_container__1XN1b",dataGrid:"Admin_dataGrid__2djKt",textEditor:"Admin_textEditor__3Myol",editForm:"Admin_editForm__1_4TT",content:"Admin_content__g4muY",menuList:"Admin_menuList__uqoyD",menuItem__nested:"Admin_menuItem__nested__3R2KA",idLabel:"Admin_idLabel__3jUKu",inactive:"Admin_inactive__E9ca_"}},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),i=a.n(c),o=a(17),s=a.n(o),r=a(8),l=a(23),d=a(27),u=a(29),j=a(13),m=a(472),b=a(85),h=a(10),p=a.n(h),O=a(18),f=a.n(O),x=a(120),g=a.n(x),v=a(63),y=a.n(v),w=a(219);var N=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,o=e.helperText,s=e.variant,r=e.color,l=e.options,d=e.className,u=e.onChange;return Object(n.jsx)(w.a,Object(j.a)(Object(j.a)({autoComplete:"on",name:t,id:t,label:a,value:c,error:i,helperText:o,variant:s||"outlined",color:r||"primary",className:d},l),{},{onChange:u}))},C=a(32),k=a(84),_=a(130),S=a(128),P=a(74),I=a(201),E=a.n(I),T=a(411);var A=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,o=e.helperText,s=e.variant,r=e.color,l=e.options,d=e.className,u=e.dataProvider,m=e.onChange;return Object(n.jsxs)(k.a,{variant:s||"outlined",color:r||"primary",className:d,error:i,children:[!u&&Object(n.jsx)(E.a,{className:"loading absolute",style:{right:"-2.5rem",top:".8rem"}}),Object(n.jsx)(_.a,{id:"".concat(t,"-label"),children:a}),Object(n.jsxs)(S.a,Object(j.a)(Object(j.a)({id:t,name:t,label:a,labelId:"".concat(t,"-label"),value:c},l),{},{onChange:m,children:[Object(n.jsx)(P.a,{value:null,children:"\xa0"}),Object(C.a)(u).map((function(e){return Object(n.jsx)(P.a,{value:e.countyId,children:e.county},e.countyId)}))]})),Object(n.jsx)(T.a,{children:o})]})},F=a(221),z=a(413);var D=function(e){var t=e.name,a=e.label,c=e.value,i=e.error,o=e.helperText,s=e.color,r=e.options,l=e.className,d=e.onChange;return Object(n.jsxs)("div",{className:l,children:[Object(n.jsx)(z.a,{name:t,id:t,control:Object(n.jsx)(F.a,Object(j.a)(Object(j.a)({checked:c,color:s||"primary"},r),{},{onChange:d})),label:a,error:i}),Object(n.jsx)(T.a,{children:o})]})},W={value:""},q={errors:{},isValidated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=!0,c=t.filter((function(e){return e.required&&e.step===a})),i=Object(j.a)({},this.errors);return c.forEach((function(t){i[t.name]="",e[t.name]||(i[t.name]="Ops! This field is required",n=!1)})),e.confirmPassword&&""!==e.password&&""!==e.confirmPassword&&(e.password!==e.confirmPassword?(i.password="Ops Passwords don't match",i.confirmPassword="Ops Passwords don't match",n=!1):(i.password="",i.confirmPassword="")),this.errors=Object(j.a)(Object(j.a)({},this.errors),i),[n,this.errors]}},U={},L=a(473);var G=function(e){var t=e.countyData,a=Object(c.useState)({userName:"",postcode:"",countyId:"",firstName:"",lastName:"",password:"",confirmPassword:"",email:W.value,isSubscriber:""}),i=Object(r.a)(a,2),o=i[0],s=i[1],h=Object(c.useState)("idle"),O=Object(r.a)(h,2),x=O[0],v=O[1],w=[{label:"Email",name:"email",required:!0,component:N,options:{autoComplete:"off"},step:0},{label:"Username",name:"userName",required:!0,component:N,step:0},{label:"Password",name:"password",required:!0,component:N,options:{type:"password"},step:0},{label:"Confirm Password",name:"confirmPassword",required:!0,component:N,options:{type:"password"},step:0},{label:"First Name",name:"firstName",required:!0,component:N,step:1},{label:"Last Name",name:"lastName",required:!0,component:N,step:1},{label:"County",name:"countyId",required:!0,component:A,dataProvider:t,step:1},{label:"Post Code",name:"postcode",required:!0,component:N,step:1},{label:"Receive water alerts?",name:"isSubscriber",required:!1,component:D,step:1}],C=Object(c.useState)({}),k=Object(r.a)(C,2),_=k[0],S=k[1],P=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;s(Object(j.a)(Object(j.a)({},o),{},Object(u.a)({},e.target.name,t)))},I=Object(c.useState)(0),E=Object(r.a)(I,2),T=E[0],F=E[1],z=function(){var e=Object(j.a)({},o);delete e.confirmPassword,v("loading"),f.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/add",e).then((function(t){"User is created successfully"===t.data?f.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/login",{userName:e.userName,password:e.password}).then((function(e){"Invalid email or password"!==e&&(U.value=e.data),v("success")})).catch((function(e){console.log(e),v("error")})):v("error")})).catch((function(e){console.log(e),v("error")}))};return"success"===x?Object(n.jsx)(m.a,{container:!0,alignContent:"center",justify:"center",className:"fullHeight",children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(g.a,{color:"primary",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Woo hoo!"}),Object(n.jsxs)("p",{style:{lineHeight:1.5},children:["Welcome! ",Object(n.jsx)("br",{})," You account has been created"]}),Object(n.jsx)("div",{children:Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,component:l.c,to:"/find-water",style:{marginTop:"1rem"},children:"GO TO APP"})})]})}):U.value?Object(n.jsx)(d.a,{to:"/find-water"}):Object(n.jsxs)(m.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(L.a,{className:"linearProgress ".concat("loading"===x?"":"hidden")}),Object(n.jsx)(m.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===x?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{style:{lineHeight:1.5},children:["Something weird happened. ",Object(n.jsx)("br",{})," Keep calm and try again."]}),Object(n.jsx)("div",{children:Object(n.jsx)(b.a,{variant:"contained",disableElevation:!0,onClick:function(e){return v("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:5,className:p.a.content,children:[Object(n.jsx)("h2",{className:p.a.title,children:"User registration"}),Object(n.jsx)("p",{className:p.a.subtitle}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("ul",{children:[["Account details","Local information"].map((function(e,t){return Object(n.jsx)("li",{className:T===t?" active-flex":"",children:w.filter((function(e){return e.step===t})).map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:o[e.name],error:_[e.name]?"error":"",helperText:_[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:P},e.name)}))},t)})),Object(n.jsx)("li",{className:2===T?" active-flex":"",children:Object(n.jsxs)("ul",{className:p.a.confirmation,children:[Object(n.jsxs)("li",{children:["Username: ",o.userName]}),Object(n.jsxs)("li",{children:["Email: ",o.email]}),Object(n.jsxs)("li",{children:["Password: ",o.password?o.password.split("").map((function(e){return"\u2022"})):""]}),Object(n.jsxs)("li",{children:["First name: ",o.firstName]}),Object(n.jsxs)("li",{children:["Last Name: ",o.lastName]}),Object(n.jsxs)("li",{children:["Receive water alerts? ",o.isSubscriber?"Yes":"No"]}),Object(n.jsxs)("li",{children:["County: ",t&&o.countyId?t.find((function(e){return e.countyId===o.countyId})).county:""]}),Object(n.jsxs)("li",{children:["Post code: ",o.postcode]})]})})]}),Object(n.jsxs)("div",{className:p.a.buttons,children:[0===T?"":Object(n.jsx)(b.a,{variant:"text",color:"primary",disableElevation:!0,onClick:function(e){return F(T>0?T-1:T)},disabled:"loading"===x?"disabled":"",children:"Previous"}),T<2?Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=q.isValidated(o,w,T),a=Object(r.a)(t,2),n=a[0],c=a[1];return S(c),n?F(T<2?T+1:2):n},children:"Next"}):"",T<2?"":Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=q.isValidated(o,w),a=Object(r.a)(t,2),n=a[0],c=a[1];return S(c),n?z():n},disabled:"loading"===x?"disabled":"",children:"Submit"})]})]})]})]})};var R=function(){var e=Object(c.useState)({userName:"",password:""}),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)("idle"),s=Object(r.a)(o,2),h=s[0],O=s[1],x=[{label:"Username",name:"userName",required:!0,component:N},{label:"Password",name:"password",required:!0,component:N,options:{type:"password"}}],g=Object(c.useState)({}),v=Object(r.a)(g,2),w=v[0],C=v[1],k=function(e){return i(Object(j.a)(Object(j.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))},_=function(){O("loading"),f.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/login",a).then((function(e){"Invalid email or password"===e.data?O("error"):(U.value=e.data,console.log(U.value),O("success"))})).catch((function(e){console.log(e),O("error")}))};return"success"===h?Object(n.jsx)(d.a,{push:!0,to:"/find-water"}):Object(n.jsxs)(m.a,{justify:"center",className:p.a.container,children:[Object(n.jsx)(L.a,{className:"linearProgress ".concat("loading"===h?"":"hidden")}),Object(n.jsx)(m.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===h?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{children:["Invalid email or password. ",Object(n.jsx)("br",{})," Please try again."]}),Object(n.jsx)("div",{children:Object(n.jsx)(b.a,{variant:"contained",disableElevation:!0,onClick:function(e){return O("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:5,className:"".concat(p.a.content," ").concat("error"===h?"hidden":""),children:[Object(n.jsx)("h2",{className:p.a.title,children:"Sign in"}),Object(n.jsxs)("form",{className:p.a.signInForm,children:[x.map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:a[e.name],error:w[e.name]?"error":"",helperText:w[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:k})})),Object(n.jsxs)("div",{className:p.a.buttons,children:[Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=q.isValidated(a,x),n=Object(r.a)(t,2),c=n[0],i=n[1];return C(i),c?_():c},disabled:"loading"===h?"disabled":"",children:"Submit"}),Object(n.jsxs)("div",{className:p.a.actions,children:[Object(n.jsx)("p",{children:"Don't have an account yet?"}),Object(n.jsx)(b.a,{variant:"outlined",color:"primary",disableElevation:!0,component:l.c,to:"/signup",children:"Sign Up"}),Object(n.jsx)(l.c,{to:"/find-water",className:"enter",children:Object(n.jsx)("p",{children:"Or proceed without sign up"})})]})]})]})]})]})};a(271);var H=function(e){var t=e.id,a=e.title,c=e.description,i=e.markAsRead;return Object(n.jsxs)("li",{className:"update-item",onClick:function(){return i(t)},children:[Object(n.jsx)("h2",{className:"update__title",children:a}),Object(n.jsx)("p",{className:"update__description",children:c})]})};var M=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),a=t[0],i=t[1];Object(c.useEffect)((function(){fetch("/updates.json").then((function(e){return e.json()})).then((function(e){return i(Array.from(e))}))}),[]);var o=function(e){var t=Object(C.a)(a);t.find((function(t){return t.id===e})).isReaded=!0,i(t)};if(!a)return Object(n.jsx)("div",{});var s=a.filter((function(e){return!e.isReaded}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:"updates-list",children:s.map((function(e){return Object(n.jsx)(H,{id:e.id,title:e.title,description:e.description,markAsRead:o},e.id)}))}),Object(n.jsx)("div",{className:"total",children:s.length>0?"Total updates: ".concat(s.length):Object(n.jsx)(m.a,{className:"fullHeightMobile no-items",container:!0,justify:"center",alignItems:"center",children:"Hooray! No updates!"})})]})};a(272);var B=function(){return Object(n.jsx)(m.a,{container:!0,justify:"center",className:"updates fullHeight",children:Object(n.jsx)(m.a,{item:!0,xs:10,children:Object(n.jsx)(M,{})})})};var K=function(){return Object(n.jsx)("div",{className:"fullHight"})},V=a(475),Y=a(415),J=a(476),X=a(22),Q=a.n(X),Z=a(121);var $=function(e){var t=e.className,a=e.style;return Object(n.jsxs)("div",{style:a,className:t,children:[Object(n.jsx)("div",{className:Q.a.content,children:Object(n.jsx)(Z.a,Object(j.a)(Object(j.a)({},e),{},{className:"",style:{}}))}),Object(n.jsx)("div",{className:Q.a.buttons,children:e.children})]})},ee=a(487);var te=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),a=t[0],i=t[1];Object(c.useEffect)((function(){f.a.all([f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list"),f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/list")]).then(f.a.spread((function(e,t){if(e&&t){var a=t.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{id:String(t.userId),county:t.countyId&&e.data.find((function(e){return t.countyId===e.countyId})).county})}));i(a)}else console.log(e,t)}))).catch((function(e){return console.log(e)}))}),[]);var o=Object(c.useState)("idle"),s=Object(r.a)(o,2),l=s[0],d=s[1];return a?Object(n.jsxs)(m.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(J.a,{open:"success"===l,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(e,t){"clickaway"!==t&&d("idle")},children:Object(n.jsx)(ee.a,{severity:"success",variant:"filled",children:"Data successfully loaded"})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:8,className:p.a.content,children:[Object(n.jsx)("h2",{className:"".concat(p.a.title," ").concat(p.a.admin),children:"Users"}),Object(n.jsx)($,{className:Q.a.dataGrid,rows:a,columns:[{field:"userId",headerName:"ID",width:70},{field:"userName",headerName:"Username",width:140},{field:"firstName",headerName:"First name",width:130},{field:"lastName",headerName:"Last name",width:130},{field:"email",headerName:"Email",width:200},{field:"county",headerName:"County",width:160},{field:"postcode",headerName:"Post code",width:120}],disableColumnSelector:!0,disableSelectionOnClick:!0,showToolbar:!0,autoPageSize:!0})]})]}):Object(n.jsx)(V.a,{className:"circularProgress",open:!a,children:Object(n.jsx)(Y.a,{color:"inherit"})})};var ae=function(e){var t=e.mode,a=e.inputItems,i=e.data,o=e.status,s=e.variant,l=e.style,d=e.onSubmit,m=e.onCancel,h=Object(c.useState)(i),O=Object(r.a)(h,2),f=O[0],x=O[1];Object(c.useEffect)((function(){x(i)}),[i]);var g=Object(c.useState)({}),v=Object(r.a)(g,2),y=v[0],w=v[1],N=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;x(Object(j.a)(Object(j.a)({},f),{},Object(u.a)({},e.target.name,t))),console.log(f)};return Object(n.jsxs)("form",{className:p.a.adminForm,style:l,children:[Object(n.jsx)("div",{style:{flexGrow:1},children:a.map((function(e,t){var a=e.component;return Object(n.jsx)(a,{id:e.name,name:e.name,label:e.label,value:f[e.name]?f[e.name]:"",error:y[e.name]?"error":"",helperText:y[e.name],className:p.a.formInput,style:{style:l},variant:s||"outlined",options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:N},e.name)}))}),Object(n.jsxs)("div",{className:"".concat(p.a.buttons," ").concat(p.a.admin),children:[Object(n.jsxs)(b.a,{variant:"contained",color:"primary",size:"small",onClick:function(e){var t=q.isValidated(f,a),n=Object(r.a)(t,2),c=n[0],i=n[1];return w(i),c?d(f):c},disableElevation:!0,disabled:"loading"===o?"disabled":"",children:["create"===t&&"Create","update"===t&&"Update"]}),Object(n.jsx)(b.a,{variant:"outlined",size:"small",style:{marginLeft:16},onClick:function(e){m()},disableElevation:!0,disabled:"loading"===o?"disabled":"",children:"Cancel"})]})]})},ne=a(123),ce=a.n(ne);var ie=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),a=t[0],i=t[1],o=[{field:"stationId",headerName:"ID",width:70,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive}},{field:"county",headerName:"County",width:270,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive}},{field:"postcode",headerName:"Post Code",width:150,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive}},{field:"size",headerName:"Size",width:100,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive}},{field:"capacity",headerName:"Capacity",width:100,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive}},{field:"isWorking",headerName:"Active?",width:100,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive},renderCell:function(e){return Object(n.jsx)("div",{style:{height:"100%",width:"100%",textAlign:"center"},id:e.row.id,onChange:F,className:e.row.isWorking&&String(e.row.isWorking),children:Object(n.jsx)(D,{value:e.row.isWorking})})}},{field:"actions",headerName:"Actions",sortable:!1,width:100,flex:1,cellClassName:function(e){return e.row.isWorking?"":Q.a.inactive},renderCell:function(e){return Object(n.jsx)("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:Object(n.jsx)(ce.a,{id:e.row.id,onClick:z,style:{cursor:"pointer",color:"#78787c",marginLeft:".2rem"}})})}}],s=[{label:"County",name:"countyId",required:!0,component:A,dataProvider:a},{label:"Post Code",name:"postcode",required:!0,component:N},{label:"Size",name:"size",required:!0,component:N,options:{className:"".concat(p.a.formInput," ").concat(p.a.col2)}},{label:"Capacity",name:"capacity",required:!0,component:N,options:{className:"".concat(p.a.formInput," ").concat(p.a.col2)}}],l=Object(c.useState)(),d=Object(r.a)(l,2),u=d[0],h=d[1],O=function(){var e={};return s.sort((function(e,t){return e.order-t.order})).forEach((function(t){e[t.name]=""})),e},x=Object(c.useState)("retrieve"),g=Object(r.a)(x,2),v=g[0],y=g[1],w=Object(c.useState)("idle"),C=Object(r.a)(w,2),k=C[0],_=C[1],S=Object(c.useState)(O),P=Object(r.a)(S,2),I=P[0],E=P[1];Object(c.useEffect)((function(){T()}),[]);var T=function(){_("loading"),f.a.all([f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list"),f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/list")]).then(f.a.spread((function(e,t){if(e&&t){var a=t.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{id:String(t.stationId),county:t.countyId&&e.data.find((function(e){return t.countyId===e.countyId})).county})}));e.data.sort((function(e,t){return e.county>t.county?1:-1})),i(e.data),h(a),y("retrieve"),_("success"),E(O)}else console.log(e,t)}))).catch((function(e){return console.log(e)}))},F=function(e){var t=u.find((function(t){return t.id===e.currentTarget.id})).stationId,a=Boolean(e.currentTarget.className)?"https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/delete/"+t:"https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/activate/"+t;f.a.get(a).then((function(e){e.data,T()})).catch((function(e){console.log(e),_("error")}))},z=function(e){E(u.filter((function(t){return t.id===e.currentTarget.id}))[0]),y("update")},W=function(e){_("loading"),delete e.additionalInfo,console.log(e),f.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/add",e).then((function(e){"Stations is created successfully"===e.data?T():(console.log(e),_("error"))})).catch((function(e){console.log(e),_("error")}))},q=function(e){_("loading"),delete e.additionalInfo,delete e.id,delete e.county,delete e.installDate,delete e.installationDate,delete e.postcodeId,delete e.isWorking,console.log(e),f.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/stations/edit/"+e.stationId,e).then((function(e){"Station is updated successfully"===e.data?T():(console.log(e),_("error"))})).catch((function(e){console.log(e),_("error")}))},U=Object(c.useState)(!1),G=Object(r.a)(U,2),R=G[0],H=G[1],M=function(e,t){"clickaway"!==t&&_("idle")};return u?Object(n.jsxs)("div",{children:[Object(n.jsx)(L.a,{className:"linearProgress ".concat("loading"===k?"":"hidden")}),Object(n.jsxs)(m.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(J.a,{open:"success"===k,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:M,children:Object(n.jsx)(ee.a,{onClose:M,severity:"success",variant:"filled",children:"Data successfully loaded"})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:8,className:p.a.content,children:[Object(n.jsx)("h2",{className:"".concat(p.a.title," ").concat(p.a.admin),children:"Water Stations"}),Object(n.jsxs)($,{className:Q.a.dataGrid,style:{display:"retrieve"===v?"flex":"none"},rows:u,columns:o,onSelectionChange:function(e){var t;0===e.rowIds.length?H(!1):H(!0),t=e.rowIds,console.log(t)},disableSelectionOnClick:!0,disableColumnSelector:!0,showToolbar:!0,autoPageSize:!0,children:[Object(n.jsx)(b.a,{variant:"contained",size:"small",onClick:function(e){y("create")},color:"primary",disableElevation:!0,disabled:"loading"===k?"disabled":"",children:"Add"}),Object(n.jsx)(b.a,{variant:"text",size:"small",style:{marginLeft:16},onClick:function(e){},className:R?"":"hidden",disableElevation:!0,disabled:"loading"===k?"disabled":"",children:"Delete"})]}),Object(n.jsx)(ae,{mode:v,inputItems:s,data:I,status:k,style:{display:"retrieve"!==v?"flex":"none"},onSubmit:function(e){"create"===v&&W(e),"update"===v&&q(e)},onCancel:function(){y("retrieve"),E(O)}})]})]})]}):Object(n.jsx)(V.a,{className:"circularProgress",open:!u,children:Object(n.jsx)(Y.a,{color:"inherit"})})},oe=a(488),se=a(75),re=a(410),le=a(478),de=a(412),ue=a(477),je=a(203),me=a.n(je);var be=function(){var e=i.a.useState(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}};return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(se.a,{color:"inherit","aria-label":"open drawer",onClick:o(!0),className:"absolute",children:Object(n.jsx)(me.a,{})}),Object(n.jsx)(oe.a,{anchor:"left",open:a,onClose:o(!1),onOpen:o(!0),children:Object(n.jsx)("div",{className:Q.a.menuList,role:"presentation",onClick:o(!1),onKeyDown:o(!1),children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(de.a,{button:!0,component:l.c,to:"/admin/users",children:Object(n.jsx)(ue.a,{primary:"Users"})}),Object(n.jsx)(de.a,{button:!0,component:l.c,to:"/admin/water-stations",children:Object(n.jsx)(ue.a,{primary:"Water Stations"})}),Object(n.jsx)(de.a,{children:Object(n.jsx)(ue.a,{primary:"Awareness"})}),Object(n.jsx)(de.a,{button:!0,component:l.c,to:"/admin/awareness-category",children:Object(n.jsx)(ue.a,{primary:"Categories",className:Q.a.menuItem__nested})}),Object(n.jsx)(de.a,{button:!0,component:l.c,to:"/admin/awareness-content",children:Object(n.jsx)(ue.a,{primary:"Content",className:Q.a.menuItem__nested})}),Object(n.jsx)(de.a,{button:!0,component:l.c,to:"/admin/events",children:Object(n.jsx)(ue.a,{primary:"Events"})}),Object(n.jsx)(le.a,{})]})})})]},"left")};var he=function(e){var t=e.countyData,a=Object(c.useState)(),i=Object(r.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)("idle"),h=Object(r.a)(l,2),O=h[0],x=h[1],g=[{label:"Email",name:"email",required:!0,component:N},{label:"First Name",name:"firstName",required:!0,component:N},{label:"Last Name",name:"lastName",required:!0,component:N},{label:"County",name:"countyId",required:!0,type:"combobox",component:A,dataProvider:t},{label:"Post Code",name:"postcode",required:!0,component:N}];Object(c.useEffect)((function(){x("loading"),f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/"+U.value).then((function(e){var t={};g.map((function(e){return e.name})).forEach((function(a){return t[a]=e.data[0][a]})),s(t),x("idle")})).catch((function(e){x("error"),console.log(e)}))}),[]);var v=Object(c.useState)({}),w=Object(r.a)(v,2),C=w[0],k=w[1],_=function(e){return s(Object(j.a)(Object(j.a)({},o),{},Object(u.a)({},e.target.name,e.target.value)))},S=function(e){x("loading"),f.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/users/edit/"+U.value,o).then((function(e){console.log(e),"User is updated successfully"===e.data?x("success"):x("error")})).catch((function(e){console.log(e),x("error")}))},P=function(e,t){"clickaway"!==t&&x("idle")};return U.value?o?Object(n.jsxs)(m.a,{justify:"center",className:p.a.container,children:[Object(n.jsx)(L.a,{className:"linearProgress ".concat("loading"===O?"":"hidden")}),Object(n.jsx)(m.a,{container:!0,alignContent:"center",justify:"center",className:"full-height ".concat("error"===O?"":"hidden"),children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{className:"alertColor",style:{fontSize:"5rem"}}),Object(n.jsx)("h2",{style:{margin:0},children:"Uh oh!"}),Object(n.jsxs)("p",{children:["Something weird happened. ",Object(n.jsx)("br",{})," Please try again later."]}),Object(n.jsx)("div",{children:Object(n.jsx)(b.a,{variant:"contained",disableElevation:!0,onClick:function(e){return x("idle")},style:{marginTop:"1rem"},children:"BACK"})})]})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:5,className:p.a.content,children:[Object(n.jsx)(J.a,{open:"success"===O,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:P,children:Object(n.jsx)(ee.a,{onClose:P,severity:"success",variant:"filled",children:"Profile updated successfully!"})}),Object(n.jsx)("h2",{className:"".concat(p.a.title," ").concat(p.a.profile),children:"Profile"}),Object(n.jsxs)("form",{className:p.a.profileForm,children:[g.map((function(e){var t=e.component;return Object(n.jsx)(t,{id:e.name,name:e.name,label:e.label,value:o[e.name],error:C[e.name]?"error":"",helperText:C[e.name],className:p.a.formInput,options:e.options?e.options:"",dataProvider:e.dataProvider?e.dataProvider:"",onChange:_})})),Object(n.jsx)("div",{className:p.a.buttons,children:Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){var t=q.isValidated(o,g),a=Object(r.a)(t,2),n=a[0],c=a[1];return k(c),n?S():n},disabled:"loading"===O?"disabled":"",children:"Submit"})})]})]})]}):Object(n.jsx)(V.a,{className:"circularProgress",open:!o,children:Object(n.jsx)(Y.a,{color:"inherit"})}):Object(n.jsx)(d.a,{to:"/signin"})},pe=a(150),Oe=a.n(pe),fe=a(204),xe=(a(273),a(95));function ge(e){var t=e.samplePoint,a=e.center,i=e.zoom,o=e.google,s=Object(c.useState)(!1),l=Object(r.a)(s,2),d=l[0],u=l[1],j=Object(c.useState)({}),m=Object(r.a)(j,2),b=m[0],h=m[1],p=Object(c.useState)({}),O=Object(r.a)(p,2),f=O[0],x=O[1],g=null;return null!=t&&(g=t.map((function(e){return"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/F"===e.samplingPointType.group?Object(n.jsx)(xe.Marker,{name:e.label,position:{lat:e.lat,lng:e.long},onClick:function(e,t){x(e),h(t),u(!d)}},e.easting):null}))),Object(n.jsx)("div",{className:"map",children:Object(n.jsxs)(xe.Map,{disableDefaultUI:!0,google:o,initialCenter:a,zoom:i,onClick:function(){u(!1)},children:[g,b?Object(n.jsx)(xe.InfoWindow,{visible:d,marker:b,children:Object(n.jsx)("div",{children:Object(n.jsx)("h6",{children:f.name})})}):null]})})}ge.defaultProps={center:{lat:51.507351,lng:-.127758},zoom:7};var ve=Object(xe.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SAMPLING_POINTS:"https://environment.data.gov.uk/water-quality/id/sampling-point",REACT_APP_SAMPLING_POINT_GROUPS_FW:"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/F",REACT_APP_SAMPLING_POINT_GROUPS_GW:"http://environment.data.gov.uk/water-quality/def/sampling-point-type-groups/B",REACT_APP_GET_CATEGORY_LIST_API:"https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/list",REACT_APP_POST_CATEGORY_API:"https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/add",REACT_APP_DELETE_CATEGORY_API:"https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/delete/"}).REACT_APP_GOOGLE_APIKEY})(ge);var ye=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(!1),s=Object(r.a)(o,2),l=s[0],d=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(fe.a)(Oe.a.mark((function e(){var t,a,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch("https://environment.data.gov.uk/water-quality/id/sampling-point");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.items,i(n),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:"fullHeight",children:l?Object(n.jsx)(V.a,{className:"circularProgress",open:l,children:Object(n.jsx)(Y.a,{color:"inherit"})}):Object(n.jsx)(ve,{samplePoint:a})})};a(288);var we=function(e){var t=e.children;return Object(n.jsx)("nav",{children:Object(n.jsx)("div",{className:"bottom-bar",children:Object(n.jsx)("ul",{className:"bottom-menu",children:t})})})},Ne=a(151),Ce=a.n(Ne),ke=a(124),_e=a.n(ke),Se=(a(289),a(218));var Pe=function(){var e=Object(c.useState)("idle"),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)("/signin"),s=Object(r.a)(o,2),u=s[0],j=s[1];Object(c.useEffect)((function(){U.value?(i("login"),j("/profile")):j("/signin")}),[]);var b=Object(c.useState)(!1),h=Object(r.a)(b,2),p=h[0],O=h[1],f=Object(c.useState)(null),x=Object(r.a)(f,2),g=x[0],v=x[1],y=function(e,t){"clickaway"!==t&&i("idle")},w=function(){v(null)},N=function(e){U.value="",i("logout"),j("/signin")};return"logout"===a?Object(n.jsx)(d.a,{to:"/signin"}):Object(n.jsxs)("div",{children:[Object(n.jsx)(J.a,{open:"login"===a,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:y,children:Object(n.jsx)(ee.a,{onClose:y,severity:"success",variant:"filled",children:"User logged in successfully"})}),Object(n.jsxs)("div",{className:"profileMenuMobile",children:[Object(n.jsx)(se.a,{"aria-controls":"profile-menu","aria-haspopup":"true",component:"span",onClick:function(e){return v(e.currentTarget)},children:Object(n.jsx)(Ce.a,{className:"profileIcon"})}),Object(n.jsxs)(Se.a,{id:"profile-menu",anchorEl:g,keepMounted:!0,PaperProps:{style:{width:"12ch"}},open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,component:l.b,to:u,children:U.value?"Profile":"Sign In"}),U.value?Object(n.jsx)(P.a,{onClick:N,children:"Logout"}):""]})]}),Object(n.jsx)("div",{className:"top-menu",children:Object(n.jsxs)(m.a,{container:!0,justify:"space-around",children:[Object(n.jsx)(m.a,{item:!0,md:3,children:Object(n.jsx)("h1",{className:"top-menu__title",children:"More Clean Water"})}),Object(n.jsx)(m.a,{item:!0,md:8,children:Object(n.jsxs)("ul",{className:"top-menu__menu",children:[Object(n.jsx)("li",{className:"top-menu__item find-water",children:Object(n.jsx)(l.c,{to:"/find-water",children:"Find Water"})}),Object(n.jsx)("li",{className:"top-menu__item water-awareness",children:Object(n.jsx)(l.c,{to:"/awareness",children:"Awareness"})})]})}),Object(n.jsx)(m.a,{item:!0,md:1,children:Object(n.jsxs)("ul",{className:"top-menu__icons",children:[Object(n.jsxs)("li",{className:"top-menu__updates",children:[Object(n.jsx)("div",{className:"material-icons",onClick:function(e){return O(!p)},children:Object(n.jsx)(_e.a,{})}),Object(n.jsx)("div",{className:"updates-container overlay ".concat(p?"active":""),children:Object(n.jsx)(M,{})})]}),Object(n.jsxs)("li",{className:"top-menu__user",children:[Object(n.jsx)(se.a,{"aria-controls":"profile-menu","aria-haspopup":"true",component:"span",style:{padding:0},onClick:function(e){return v(e.currentTarget)},children:Object(n.jsx)(Ce.a,{className:"profileIcon"})}),Object(n.jsxs)(Se.a,{id:"profile-menu",anchorEl:g,keepMounted:!0,PaperProps:{style:{width:"12ch"}},open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,component:l.b,to:u,children:U.value?"Profile":"Sign In"}),U.value?Object(n.jsx)(P.a,{onClick:N,children:"Logout"}):""]})]})]})})]})})]})};a(290);var Ie=function(e){var t=e.icon,a=e.title,c=e.to;return Object(n.jsx)(l.c,{to:c,children:Object(n.jsxs)("li",{className:"bottom-menu-item",children:[Object(n.jsx)("div",{className:"bottom-menu-item__icon material-icons",children:t}),Object(n.jsx)("div",{className:"bottom-menu-item__title",children:a})]})})},Ee=a(125),Te=a.n(Ee),Ae=a(205),Fe=a.n(Ae);var ze=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Pe,{}),Object(n.jsxs)(we,{children:[Object(n.jsx)(Ie,{icon:Object(n.jsx)(Te.a,{}),title:"Awareness",to:"/awareness"}),Object(n.jsx)(Ie,{icon:Object(n.jsx)(Fe.a,{}),title:"Find Water",to:"/find-water"}),Object(n.jsx)(Ie,{icon:Object(n.jsx)(_e.a,{}),title:"Updates",to:"/updates"})]})]})};a(291);var De=function(){var e=[{label:"Email",name:"email",required:!0,component:w.a}],t=Object(c.useState)({email:""}),a=Object(r.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)(null),h=Object(r.a)(s,2),O=h[0],f=h[1],x=Object(c.useState)({}),g=Object(r.a)(x,2),v=g[0],y=g[1],N=function(){var t=!0,a=e.filter((function(e){return e.required})),n=Object(j.a)({},v);return a.forEach((function(e){n[e.name]="",i[e.name]||(n[e.name]="Ops! This field is required",t=!1)})),y(Object(j.a)(Object(j.a)({},v),n)),t};return O?Object(n.jsx)(d.a,{push:!0,to:O}):Object(n.jsxs)("div",{className:"landing-page",children:[Object(n.jsx)("div",{className:"ocean-wrapper",children:Object(n.jsxs)("div",{className:"ocean",children:[Object(n.jsx)("div",{className:"wave"}),Object(n.jsx)("div",{className:"wave"})]})}),Object(n.jsx)("div",{className:"content-wrapper",children:Object(n.jsxs)(m.a,{container:!0,alignContent:"center",className:"content",justify:"center",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("h1",{children:"More Clean Water"}),Object(n.jsx)("h2",{children:"Helping you to access clean water"}),Object(n.jsx)("h3",{children:"Sign up now and receive water shortage alerts, water cleaning advises and more."})]}),Object(n.jsxs)("form",{className:p.a.landingForm,children:[Object(n.jsx)(w.a,{autoComplete:"on",id:"email",name:"email",label:"Email",variant:"outlined",value:i.email,error:v.email?"error":"",helperText:v.email,className:p.a.formInput,onChange:function(e){return o(Object(j.a)(Object(j.a)({},i),{},Object(u.a)({},e.target.name,e.target.value)))}}),Object(n.jsx)(b.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(e){N()&&(W.value=i.email,f("/signup"))},children:"Sign Up"}),Object(n.jsxs)("div",{className:p.a.actions,children:[Object(n.jsx)("p",{children:"Are you already registered?"}),Object(n.jsx)(b.a,{variant:"text",color:"primary",disableElevation:!0,component:l.c,to:"/signin",children:"Sign in"}),Object(n.jsx)(l.c,{to:"/find-water",className:p.a.link,children:"Or proceed without sign up"})]})]})]})})]})},We=a(479),qe=a(474),Ue=a(57),Le=a(102),Ge=Object(Le.a)({typographyStyles:{flex:1,fontFamily:"Raleway",color:"#288FEE;"},root:{backgroundColor:"#F8FAFC",justify:"center"}});var Re=function(){var e=Ge();return Object(n.jsx)(We.a,{className:e.root,position:"static",children:Object(n.jsx)(qe.a,{children:Object(n.jsx)(Ue.a,{variant:"h6",className:e.typographyStyles,children:"Facts and statistics about water, toilets and hygiene"})})})},He=a(480),Me=a(481),Be=a(483),Ke=a(484),Ve=a(485),Ye=a(482),Je=a(491),Xe=a(486),Qe=a(4),Ze=a(207),$e=a.n(Ze),et=a(206),tt=a.n(et),at=Object(Le.a)((function(e){return{S:{backgroundColor:"red",justify:"center"},P:{backgroundColor:"orange",justify:"center"},G:{backgroundColor:"green",justify:"center"},actionArea:{padding:"15px 15px 0px 15px",transition:"0.2s","&:hover":{transform:"scale(1.1)"}},card:{maxWidth:345,borderRadius:16,boxShadow:"none",backgroundColor:"#F9FCFF",position:"relative"},header:{padding:"8px"},media:function(){return{width:"100%",height:"auto",paddingBottom:"75%"}},video:{height:"200px",width:"100%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));var nt=function(e){var t=e.title,a=e.subtitle,o=e.description,s=e.content,l=e.avatarType,d=e.imageUrl,j=e.videoUrl,m=at(),b=Object(c.useState)(!1),h=Object(r.a)(b,2),p=h[0],O=h[1],f=i.a.useState(null),x=Object(r.a)(f,2),g=x[0],v=x[1],y="P"===l?m.P:"G"===l?m.G:m.S,w=function(){v(null)};return Object(n.jsxs)(He.a,{variant:"outlined",className:m.card,children:[Object(n.jsx)(Me.a,{avatar:Object(n.jsx)(Je.a,{className:y,children:l}),action:Object(n.jsx)(se.a,{onClick:function(e){v(e.currentTarget)},children:Object(n.jsx)(tt.a,{})}),title:t,subheader:a}),Object(n.jsxs)(Se.a,{keepMounted:!0,id:"settings-menu",anchorEl:g,open:Boolean(g),onClose:w,children:[Object(n.jsx)(P.a,{onClick:w,children:Object(n.jsx)(Ue.a,{variant:"caption",color:"primary",children:"Edit"})}),Object(n.jsx)(P.a,{onClick:w,children:Object(n.jsx)(Ue.a,{variant:"caption",color:"primary",children:"Delete"})})]}),Object(n.jsxs)(Ye.a,{className:m.actionArea,children:[d?Object(n.jsx)(Be.a,{className:m.media,image:d,title:t}):null,j?Object(n.jsx)(Be.a,{className:m.video,component:"iframe",title:t,src:j}):null,o?Object(n.jsx)(Ke.a,{children:Object(n.jsx)(Ue.a,{variant:"body2",color:"textSecondary",component:"p",children:o})}):null]}),Object(n.jsx)(Ve.a,{disableSpacing:!0,children:s?Object(n.jsx)(se.a,{className:Object(Qe.a)(m.expand,Object(u.a)({},m.expandOpen,p)),onClick:function(){O(!p)},"aria-expanded":p,"aria-label":"show more",children:Object(n.jsx)($e.a,{})}):null}),s?Object(n.jsx)(Xe.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(Ke.a,{children:Object(n.jsx)(Ue.a,{variant:"body2",component:"p",children:s})})}):null]})},ct=[{key:1,title:"Read Beneath the Surface: The State of the World's Water 2019",subtitle:"January 09, 2021",description:"The world\u2019s water crisis is getting worse, and globally we use six times as much water today as we did 100 years ago, driven by population growth and changes in diets and consumer habits",content:"Without clean water, people are denied access to opportunities that should be open to everyone, everywhere. Whole communities are held back while others thrive, simply because they don\u2019t have access to clean water.This is a global water, sanitation and hygiene crisis. In 2015, world leaders committed to achieve the Sustainable Development Goals by 2030. Goal 6 focuses on water and sanitation \u2013 but some countries are not years, but centuries behind reaching this target.",avatarType:"S",imageUrl:"http://d3i3l3kraiqpym.cloudfront.net/wp-content/uploads/2016/02/13105152/water-scarcity.jpg"},{key:2,title:"Why don't people just move closer to water ",subtitle:"I collect water from the river, it's far away ",description:"We're calling on artists to produce eye-catching artwork that will convince world leaders to double investment in clean water and hygiene.",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.",avatarType:"G",imageUrl:"",videoUrl:"https://www.youtube.com/embed/HxX-YDA3QWc"},{key:3,title:"Help us inspire change through art",subtitle:"Discover the art through change",description:"Open sources of water usually aren\u2019t safe. They\u2019re often shared with animals, and contaminated with waterborne diseases like cholera.",content:"Hygiene can be hard to define as it covers so many behaviours, from personal hygiene like handwashing, food hygiene and menstrual hygiene, to the clean use of toilets and the safe use of water. Some groups of people are also more affected by poor hygiene \u2013 especially people with disabilities, young girls, women and babies.Whether it's after going to the toilet, before eating or when you're preparing a meal, washing your hands is one of the easiest ways to prevent the spread of disease.",avatarType:"P",imageUrl:"https://images.twinkl.co.uk/tw1n/image/private/t_630/image_repo/c8/41/T-M-096-When-to-Wash-Your-Hands-Display-Sign.jpg"},{key:4,title:"March for Water",subtitle:"Join thousands and pledge to walk further than usual in solidarity with those who have no choice but to walk to collect water",description:"If 2020 has shown us anything, it's that we're all stronger than we knew, and life is there to be seized. So, don't let doubt or dither hold you back from trying something new or taking on a challenge \u2013 you can do it. Get fit, have fun and change lives along the way. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"G",imageUrl:"http://www.unwater.org/app/uploads/2017/05/22-Mar-2017-Global-engagement-JPG.jpg"},{key:5,title:"Water and education",subtitle:"Why clean water means Ze is back in school",description:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.",content:"",avatarType:"P",imageUrl:"https://image.slidesharecdn.com/freshwaterscarcity-140504191811-phpapp01/95/fresh-water-scarcity-3-638.jpg?cb=1399231136"},{key:6,title:"Water and health",subtitle:"How dirty water affects people's health",description:"Drinking dirty water exposes people to traces of faeces and harmful bacteria. It puts people at risk of deadly diseases like cholera, dengue and diarrhoea. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"S",imageUrl:"https://www.public-health.uiowa.edu/wp-content/uploads/2015/07/water_india.jpg"},{key:7,title:"Water and earning a living",subtitle:"Join thousands and pledge to walk further than usual in solidarity with those who have no choice but to walk to collect water",description:"If 2020 has shown us anything, it's that we're all stronger than we knew, and life is there to be seized. So, don't let doubt or dither hold you back from trying something new or taking on a challenge \u2013 you can do it. Get fit, have fun and change lives along the way. ",content:"Collecting water every day leaves little time for school, and drinking dirty water often makes children too ill to attend.Clean water allows people to focus on earning an income instead of collecting dirty water which can make them or their family fall sick. ",avatarType:"G",imageUrl:"https://www.concernusa.org/wp-content/uploads/2017/08/concern-niger-water-and-women-header-1280x520.jpg"}];var it=function(){return Object(n.jsx)(m.a,{container:!0,spacing:2,children:ct.map((function(e){return function(e){return Object(n.jsx)(m.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(nt,Object(j.a)({},e))},e.key)}(e)}))})};var ot=function(){return Object(n.jsxs)(m.a,{container:!0,style:{paddingTop:"76px"},direction:"column",children:[Object(n.jsx)(m.a,{item:!0,xs:12,children:Object(n.jsx)(Re,{})}),Object(n.jsx)("div",{style:{paddingTop:"10px"}}),Object(n.jsxs)(m.a,{item:!0,container:!0,children:[Object(n.jsx)(m.a,{item:!0,xs:!1,sm:1}),Object(n.jsxs)(m.a,{item:!0,xs:12,sm:10,children:[Object(n.jsx)(it,{}),Object(n.jsx)(m.a,{item:!0,xs:!1,sm:1})]})]})]})},st=a(126),rt=a.n(st);function lt(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(""),s=Object(r.a)(o,2),l=s[0],d=s[1],u=Object(c.useState)(""),j=Object(r.a)(u,2),h=j[0],O=j[1],x=Object(c.useState)(""),g=Object(r.a)(x,2),v=g[0],y=g[1],N=Object(c.useState)(!1),C=Object(r.a)(N,2),k=C[0],_=C[1],S=Object(c.useState)(!1),P=Object(r.a)(S,2),I=P[0],E=P[1],T=Object(c.useState)([]),A=Object(r.a)(T,2),F=A[0],z=A[1],D=Object(c.useState)([]),W=Object(r.a)(D,2),q=W[0],U=W[1],L=[],G=function(){f.a.delete("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/delete/"+q[0].id).then((function(){O("Section is deleted successfully"),E(!0)})).catch((function(e){y(e.message),_(!0),console.log(e+" error")}))},R=function(){d(""),i("")},H=function(e){"clickaway"!==e&&E(!1)},M=function(e){"clickaway"!==e&&_(!1)},B=[{field:"id",hide:!0},{field:"name",headerName:Object(n.jsx)("strong",{children:"Category"}),flex:.5},{field:"description",headerName:Object(n.jsx)("strong",{children:"Description"}),flex:1},{field:"actions",headerName:Object(n.jsx)("strong",{children:"Actions"}),flex:.5,renderCell:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(rt.a,{style:{cursor:"pointer",color:"#78787c"},onClick:G})})}}];return Object(c.useEffect)((function(){f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/list").then((function(e){return z(e.data)})).catch((function(e){return console.log(e)}))}),[I]),"undefined"!==typeof F&&F.length>0&&(L=F.map((function(e){return L[e]=e}))),0===F.length?Object(n.jsx)(V.a,{className:"circularProgress",open:0===F.length,children:Object(n.jsx)(Y.a,{color:"inherit"})}):Object(n.jsxs)("div",{children:[Object(n.jsx)(J.a,{open:I,autoHideDuration:4e3,onClose:H,children:Object(n.jsx)(ee.a,{onClose:H,severity:"success",children:h})}),Object(n.jsx)(J.a,{open:k,autoHideDuration:4e3,onClose:M,children:Object(n.jsx)(ee.a,{onClose:M,severity:"error",children:v})}),Object(n.jsx)(m.a,{container:!0,justify:"center",className:p.a.container,children:Object(n.jsxs)(m.a,{item:!0,xs:10,md:8,className:p.a.content,children:[Object(n.jsx)("form",{className:p.a.adminForm,children:Object(n.jsxs)("div",{className:"".concat(p.a.title," ").concat(p.a.admin),children:[Object(n.jsx)("h2",{children:"Awareness / Categories"}),Object(n.jsxs)(m.a,{container:!0,className:p.a.adminContent,justify:"space-between",spacing:3,children:[Object(n.jsx)(m.a,{item:!0,xs:12,sm:5,children:Object(n.jsx)(w.a,{required:!0,id:"standard-basic-category",label:"Category name",value:l,onChange:function(e){return d(e.target.value)},variant:"outlined",className:"".concat(p.a.formInput)})}),Object(n.jsx)(m.a,{item:!0,xs:12,sm:5,children:Object(n.jsx)(w.a,{id:"standard-basic-desc",label:"Description",value:a,onChange:function(e){return i(e.target.value)},variant:"outlined",className:"".concat(p.a.formInput)})}),Object(n.jsx)(m.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(b.a,{variant:"contained",size:"small",color:"primary",disableElevation:!0,disabled:""===l,className:"".concat(p.a.formInput),onClick:function(){f.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/add",{name:l,description:a}).then((function(){O("Section is created successfully"),E(!0),R()})).catch((function(e){y(e.message),_(!0),console.log(e+" error")}))},children:"SAVE"})})]})]})}),Object(n.jsx)("div",{className:Q.a.dataGrid,children:Object(n.jsx)("div",{className:Q.a.content,children:Object(n.jsx)(Z.a,{rows:L,columns:B,autoPageSize:!0,onRowSelected:function(e){console.log(e.data.id),U(L.filter((function(t){return t.id===e.data.id})))},disableColumnSelector:!0,disableSelectionOnClick:!0})})})]})})]})}var dt=a(208),ut=a.n(dt),jt=(a(391),a(490)),mt=a(215),bt=a(94);a(404),a(400);bt.a.initializeApp({apiKey:"AIzaSyCUFjz6GWSpfjTNMrB3DTMcCY1RfUg2qzY",authDomain:"awarenesscontent.firebaseapp.com",projectId:"awarenesscontent",storageBucket:"awarenesscontent.appspot.com",messagingSenderId:"485810474234",appId:"1:485810474234:web:1cc85ab2cf326a26164d43"});var ht=bt.a.database().ref("/article"),pt=bt.a.storage();function Ot(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(c.useState)(),s=Object(r.a)(o,2),l=s[0],d=s[1],u=Object(c.useState)(""),h=Object(r.a)(u,2),O=h[0],x=h[1],g=Object(c.useState)(""),v=Object(r.a)(g,2),y=v[0],N=v[1],C=Object(c.useState)(""),k=Object(r.a)(C,2),_=k[0],S=k[1],P=Object(c.useState)(!1),I=Object(r.a)(P,2),E=I[0],T=I[1],A=Object(c.useState)(null),F=Object(r.a)(A,2),z=F[0],D=F[1];Object(c.useEffect)((function(){f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/sections/list").then((function(e){return i(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(Le.a)((function(){return{text:{width:"300px",margin:"10px"},button:{backgroundColor:"white",width:"50px",margin:"10px","&:hover":{backgroundColor:"#A2EA2E"}}}}))();var W=function(e){ht.child("".concat(y)).set({categoryId:l.id,categoryName:l.name,title:y,body:O,image:e,video:_})};return Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{container:!0,justify:"center",className:p.a.container,children:Object(n.jsx)(m.a,{item:!0,xs:10,md:8,className:p.a.content,children:Object(n.jsxs)("form",{className:p.a.adminForm,children:[Object(n.jsxs)("div",{className:"".concat(p.a.title," ").concat(p.a.admin),children:[Object(n.jsx)("h2",{children:"Awareness / Add Content"}),Object(n.jsxs)(m.a,{container:!0,className:p.a.adminContent,justify:"space-between",spacing:3,children:[Object(n.jsx)(m.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{required:!0,className:"".concat(p.a.formInput),variant:"outlined",id:"standard-basic-title",label:"Title",value:y,onChange:function(e){return N(e.target.value)}})}),Object(n.jsx)(m.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(jt.a,{className:"".concat(p.a.formInput),id:"category-combo-box",options:a,getOptionLabel:function(e){return e.name},onChange:function(e,t){d(t)},renderInput:function(e){return Object(n.jsx)(w.a,Object(j.a)(Object(j.a)({required:!0},e),{},{variant:"outlined",label:"Category"}))}})}),Object(n.jsx)(m.a,{item:!0,xs:12,sm:6,md:4,children:Object(n.jsx)(w.a,{className:"".concat(p.a.formInput),variant:"outlined",id:"standard-basic-videourl",label:"Video URL",value:_,onChange:function(e){return S(e.target.value)}})}),Object(n.jsxs)(m.a,{item:!0,xs:12,sm:6,md:4,children:[Object(n.jsx)(b.a,{className:"".concat(p.a.formInput),style:{height:"3.5rem"},variant:"outlined",size:"small",color:"primary",disableElevation:!0,onClick:function(){T(!0)},children:"Select image"}),z?z.name:""]})]})]}),Object(n.jsxs)("div",{className:Q.a.textEditor,children:[Object(n.jsx)(mt.a,{open:E,onSave:function(e){D(e[0]),T(!1)},acceptedFiles:["image/jpeg","image/png","image/bmp","image/gif"],showPreviews:!0,filesLimit:1,maxFileSize:5e6,onClose:function(){T(!1)}}),Object(n.jsx)(ut.a,{onChange:function(e){x(e),console.log(O)},value:O,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]}]]},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","color"],placeholder:"Add content here....."}),Object(n.jsx)(b.a,{variant:"contained",size:"small",onClick:function(){pt.ref("/images/".concat(y)).put(z).on((function(e){console.log(e)}),(function(){pt.ref("images").child(y).getDownloadURL().then((function(e){W(e)}))}))},color:"primary",disableElevation:!0,style:{marginTop:"5rem"},children:"SAVE"})]})]})})})})}a(402);var ft=a(214),xt=a.n(ft);var gt=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),a=(t[0],t[1]),i=[{field:"id",headerName:"ID",width:70},{field:"title",headerName:"Title",width:400},{field:"eventDate",headerName:"Event Date",width:130},{field:"eventTime",headerName:"Event Time",width:130,cellClassName:function(e){return e.isCancelled?Q.a.inactive:""}},{field:"isCancelled",headerName:"Active",width:100,renderCell:function(e){return Object(n.jsx)("div",{style:{height:"100%",width:"100%"},children:e.row.isCancelled?"Cancelled":"Active"})}},{field:"actions",headerName:"Actions",sortable:!1,width:100,renderCell:function(e){return Object(n.jsxs)("div",{style:{display:"flex",height:"100%",alignItems:"center"},children:[Object(n.jsx)(ce.a,{id:e.row.id,onClick:A,style:{cursor:"pointer",color:"#78787c"}}),Object(n.jsx)(xt.a,{id:e.row.id,onClick:T,style:{cursor:"pointer",color:"#78787c",marginLeft:".6rem"}})]})}}],o=[{label:"Title",name:"title",required:!0,component:N,order:2},{label:"Date",name:"eventDate",required:!0,component:N,options:{className:"".concat(p.a.formInput," ").concat(p.a.col2)},order:4},{label:"Time",name:"eventTime",required:!0,component:N,options:{className:"".concat(p.a.formInput," ").concat(p.a.col2)},order:5},{label:"Link",name:"link",required:!0,component:N,order:1},{label:"Description",name:"description",required:!0,component:N,options:{multiline:!0,rows:4},order:3}],s=Object(c.useState)(),l=Object(r.a)(s,2),d=l[0],u=l[1],h=function(){var e={};return o.sort((function(e,t){return e.order-t.order})).forEach((function(t){e[t.name]=""})),e},O=Object(c.useState)("retrieve"),x=Object(r.a)(O,2),g=x[0],v=x[1],y=Object(c.useState)("idle"),w=Object(r.a)(y,2),C=w[0],k=w[1],_=Object(c.useState)(h),S=Object(r.a)(_,2),P=S[0],I=S[1];Object(c.useEffect)((function(){E()}),[]);var E=function(){k("loading"),f.a.all([f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list"),f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/events/list")]).then(f.a.spread((function(e,t){if(t){var n=t.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{id:String(t.eventId),county:t.countyId&&e.data.find((function(e){return t.countyId===e.countyId})).county})}));e.data.sort((function(e,t){return e.county>t.county?1:-1})),a(e.data),u(n),v("retrieve"),k("success"),I(h)}else console.log(t)}))).catch((function(e){return console.log(e)}))},T=function(e){var t=d.find((function(t){return t.id===e.currentTarget.id})).eventId;f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/events/cancel/"+t).then((function(e){"Event is cancelled successfully"===e.data?E():(console.log(e),k("error"))})).catch((function(e){console.log(e),k("error")}))},A=function(e){I(d.filter((function(t){return t.id===e.currentTarget.id}))[0]),console.log(P),v("update")},F=function(e){k("loading"),delete e.county,e.isCancelled=!1,console.log(e),f.a.post("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/events/add",e).then((function(e){"Event is created successfully"===e.data?E():(console.log(e),k("error"))})).catch((function(e){console.log(e),k("error")}))},z=function(e){k("loading"),delete e.county,delete e.id,console.log(e),f.a.put("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/events/edit/"+e.eventId,e).then((function(e){"Event is postponed successfully"===e.data?E():(console.log(e),k("error"))})).catch((function(e){console.log(e),k("error")}))},D=Object(c.useState)(!1),W=Object(r.a)(D,2),q=W[0],U=W[1],G=function(e,t){"clickaway"!==t&&k("idle")};return d?Object(n.jsxs)("div",{children:[Object(n.jsx)(L.a,{className:"linearProgress ".concat("loading"===C?"":"hidden")}),Object(n.jsxs)(m.a,{container:!0,justify:"center",className:p.a.container,children:[Object(n.jsx)(J.a,{open:"success"===C,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:G,children:Object(n.jsx)(ee.a,{onClose:G,severity:"success",variant:"filled",children:"Data successfully loaded"})}),Object(n.jsxs)(m.a,{item:!0,xs:10,md:8,className:p.a.content,children:[Object(n.jsx)("h2",{className:"".concat(p.a.title," ").concat(p.a.admin),children:"Events"}),Object(n.jsxs)($,{className:Q.a.dataGrid,style:{display:"retrieve"===g?"flex":"none"},rows:d,columns:i,onSelectionChange:function(e){var t;0===e.rowIds.length?U(!1):U(!0),t=e.rowIds,console.log(t)},disableSelectionOnClick:!0,disableColumnSelector:!0,showToolbar:!0,autoPageSize:!0,children:[Object(n.jsx)(b.a,{variant:"contained",size:"small",onClick:function(e){v("create")},color:"primary",disableElevation:!0,disabled:"loading"===C?"disabled":"",children:"Add"}),Object(n.jsx)(b.a,{variant:"text",size:"small",style:{marginLeft:16},onClick:function(e){},className:q?"":"hidden",disableElevation:!0,disabled:"loading"===C?"disabled":"",children:"Delete"})]}),Object(n.jsx)(ae,{mode:g,inputItems:o,data:P,status:C,style:{display:"retrieve"!==g?"flex":"none"},onSubmit:function(e){"create"===g&&F(e),"update"===g&&z(e)},onCancel:function(){v("retrieve"),I(h)}})]})]})]}):Object(n.jsx)(V.a,{className:"circularProgress",open:!d,children:Object(n.jsx)(Y.a,{color:"inherit"})})};var vt=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),a=t[0],i=t[1];return Object(c.useEffect)((function(){f.a.get("https://ckyxnow688.execute-api.eu-west-2.amazonaws.com/dev/county/list").then((function(e){e.data&&e.data.sort((function(e,t){return e.county>t.county?1:-1})),i(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(d.d,{children:[Object(n.jsxs)(d.b,{exact:!0,path:"/awareness",children:[Object(n.jsx)(ze,{}),Object(n.jsx)(ot,{})]}),Object(n.jsx)(d.b,{exact:!0,path:"/signup",children:Object(n.jsx)(G,{countyData:a})}),Object(n.jsx)(d.b,{exact:!0,path:"/signin",children:Object(n.jsx)(R,{})}),Object(n.jsxs)(d.b,{exact:!0,path:"/profile",children:[Object(n.jsx)(ze,{}),Object(n.jsx)(he,{countyData:a})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/updates",children:[Object(n.jsx)(ze,{}),Object(n.jsx)(B,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/find-water",children:[Object(n.jsx)(ze,{}),Object(n.jsx)(ye,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/awareness-category",children:[Object(n.jsx)(be,{}),Object(n.jsx)(lt,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/awareness-content",children:[Object(n.jsx)(be,{}),Object(n.jsx)(Ot,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/users",children:[Object(n.jsx)(be,{}),Object(n.jsx)(te,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/water-stations",children:[Object(n.jsx)(be,{}),Object(n.jsx)(ie,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin/events",children:[Object(n.jsx)(be,{}),Object(n.jsx)(gt,{})]}),Object(n.jsxs)(d.b,{exact:!0,path:"/admin",children:[Object(n.jsx)(be,{}),Object(n.jsx)(K,{})]}),Object(n.jsx)(d.b,{path:"/",children:Object(n.jsx)(De,{})})]})})})},yt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,493)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(vt,{})}),document.getElementById("root")),yt()}},[[403,1,2]]]);
//# sourceMappingURL=main.b4f9a070.chunk.js.map